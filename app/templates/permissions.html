<div class="btn-group spacer-b20" ng-if="!resources.all" uib-dropdown>
    <button type="button" class="btn btn-default btn-header dropdown-toggle" uib-dropdown-toggle><span ng-if="allow.all == true"><i class="dropdown-icon fa fa-check-square-o text-success"></i>&nbsp;&nbsp;<span translate>Allow selected items</span></span><span ng-if="allow.all == false" translate><i class="dropdown-icon fa fa-minus-square-o text-danger"></i>&nbsp;&nbsp;<span translate>Disallow selected items</span></span>&nbsp;&nbsp;<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu">
        <li ng-click="allow.all = true" ng-class="{ 'selected-li': allow.all == true }"><a><i class="dropdown-icon fa fa-check-square-o text-success"></i>&nbsp;&nbsp;<span translate>Allow selected items</span></a></li>
        <li ng-click="allow.all = false" ng-class="{ 'selected-li': allow.all == false }"><a><i class="dropdown-icon fa fa-minus-square-o text-danger"></i>&nbsp;&nbsp;<span translate>Disallow selected items</span></a></li>
    </ul>
</div>

<div ng-repeat="item in permissionItems" ng-class="{'spacer-b30 clearfix': item.resource == '*'}">
    <div class="col-xs-12 text-capitalize text-bold border-b spacer-b10 padding-l0"><span ng-if="item.resource != '*'">{{ item.resource | replace: '_':' ': item.resource }}</span><span ng-if="item.resource == '*'"><em translate class="text-primary">All Resources</em></span></div>
    <div class="col-xs-6 col-sm-3 spacer-b20 text-default pointer" ng-if="allowsMethod(item.resource, 'read')" ng-class="{'text-success': isChecked(item.resource, 'read') && allow.all == true, 'text-danger': isChecked(item.resource, 'read') && allow.all == false}" ng-click="checkToggle(item.resource, 'read')"><i class="fa fa-square-o fa-fw" ng-if="!isChecked(item.resource, 'read')"></i><i class="fa fa-minus-square-o fa-fw" ng-if="isChecked(item.resource, 'read') && allow.all == false"></i><i class="fa fa-check-square-o fa-fw" ng-if="isChecked(item.resource, 'read') && allow.all == true"></i>&nbsp;&nbsp;<span>Read</span></div><div class="col-xs-6 col-sm-3 spacer-b20 text-default pointer" ng-if="!allowsMethod(item.resource, 'read')">&nbsp;</div>
    <div class="col-xs-6 col-sm-3 spacer-b20 text-default pointer" ng-if="allowsMethod(item.resource, 'create')" ng-class="{'text-success': isChecked(item.resource, 'create') && allow.all == true, 'text-danger': isChecked(item.resource, 'create') && allow.all == false}" ng-click="checkToggle(item.resource, 'create')"><i class="fa fa-square-o fa-fw" ng-if="!isChecked(item.resource, 'create')"></i><i class="fa fa-minus-square-o fa-fw" ng-if="isChecked(item.resource, 'create') && allow.all == false"></i><i class="fa fa-check-square-o fa-fw" ng-if="isChecked(item.resource, 'create') && allow.all == true"></i>&nbsp;&nbsp;<span>Create</span></div><div class="col-xs-6 col-sm-3 spacer-b20 text-default pointer" ng-if="!allowsMethod(item.resource, 'create')">&nbsp;</div>
    <div class="col-xs-6 col-sm-3 spacer-b20 text-default pointer" ng-if="allowsMethod(item.resource, 'update')" ng-class="{'text-success': isChecked(item.resource, 'update') && allow.all == true, 'text-danger': isChecked(item.resource, 'update') && allow.all == false}" ng-click="checkToggle(item.resource, 'update')"><i class="fa fa-square-o fa-fw" ng-if="!isChecked(item.resource, 'update')"></i><i class="fa fa-minus-square-o fa-fw" ng-if="isChecked(item.resource, 'update') && allow.all == false"></i><i class="fa fa-check-square-o fa-fw" ng-if="isChecked(item.resource, 'update') && allow.all == true"></i>&nbsp;&nbsp;<span>Update</span></div><div class="col-xs-6 col-sm-3 spacer-b20 text-default pointer" ng-if="!allowsMethod(item.resource, 'update')">&nbsp;</div>
    <div class="col-xs-6 col-sm-3 spacer-b20 text-default pointer" ng-if="allowsMethod(item.resource, 'delete')" ng-class="{'text-success': isChecked(item.resource, 'delete') && allow.all == true, 'text-danger': isChecked(item.resource, 'delete') && allow.all == false}" ng-click="checkToggle(item.resource, 'delete')"><i class="fa fa-square-o fa-fw" ng-if="!isChecked(item.resource, 'delete')"></i><i class="fa fa-minus-square-o fa-fw" ng-if="isChecked(item.resource, 'delete') && allow.all == false"></i><i class="fa fa-check-square-o fa-fw" ng-if="isChecked(item.resource, 'delete') && allow.all == true"></i>&nbsp;&nbsp;<span>Delete</span></div><div class="col-xs-6 col-sm-3 spacer-b20 text-default pointer" ng-if="!allowsMethod(item.resource, 'delete')">&nbsp;</div>
</div>