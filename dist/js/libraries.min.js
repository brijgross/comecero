angular.module("gettext",[]),angular.module("gettext").constant("gettext",function(t){return t}),angular.module("gettext").factory("gettextCatalog",["gettextPlurals","$http","$cacheFactory","$interpolate","$rootScope",function(t,e,i,n,r){function a(){r.$broadcast("gettextLanguageChanged")}var o,s="$$noContext",l='<span id="test" title="test" class="tested">test</span>',u=angular.element("<span>"+l+"</span>").html()!==l,c=function(t){return o.debug&&o.currentLanguage!==o.baseLanguage?o.debugPrefix+t:t},h=function(t){return o.showTranslatedMarkers?o.translatedMarkerPrefix+t+o.translatedMarkerSuffix:t};return o={debug:!1,debugPrefix:"[MISSING]: ",showTranslatedMarkers:!1,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:i("strings"),setCurrentLanguage:function(t){this.currentLanguage=t,a()},getCurrentLanguage:function(){return this.currentLanguage},setStrings:function(t,e){this.strings[t]||(this.strings[t]={});for(var i in e){var n=e[i];if(u&&(i=angular.element("<span>"+i+"</span>").html()),angular.isString(n)||angular.isArray(n)){var r={};r[s]=n,n=r}for(var o in n){var l=n[o];n[o]=angular.isArray(l)?l:[l]}this.strings[t][i]=n}a()},getStringForm:function(t,e,i){var n=this.strings[this.currentLanguage]||{},r=n[t]||{},a=r[i||s]||[];return a[e]},getString:function(t,e,i){return t=this.getStringForm(t,0,i)||c(t),t=e?n(t)(e):t,h(t)},getPlural:function(e,i,r,a,o){var s=t(this.currentLanguage,e);return i=this.getStringForm(i,s,o)||c(1===e?i:r),a&&(a.$count=e,i=n(i)(a)),h(i)},loadRemote:function(t){return e({method:"GET",url:t,cache:o.cache}).then(function(t){var e=t.data;for(var i in e)o.setStrings(i,e[i]);return t})}}}]),angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile","$window",function(t,e,i,n,r){function a(t,e,i){if(!t)throw new Error("You should add a "+e+" attribute whenever you add a "+i+" attribute.")}var o=function(){return String.prototype.trim?function(t){return"string"==typeof t?t.trim():t}:function(t){return"string"==typeof t?t.replace(/^\s*/,"").replace(/\s*$/,""):t}}(),s=parseInt((/msie (\d+)/.exec(angular.lowercase(r.navigator.userAgent))||[])[1],10);return{restrict:"AE",terminal:!0,compile:function(r,l){a(!l.translatePlural||l.translateN,"translate-n","translate-plural"),a(!l.translateN||l.translatePlural,"translate-plural","translate-n");var u=o(r.html()),c=l.translatePlural,h=l.translateContext;return s<=8&&"<!--IE fix-->"===u.slice(-13)&&(u=u.slice(0,-13)),{post:function(r,a,s){function l(){var e;c?(r=d||(d=r.$new()),r.$count=p(r),e=t.getPlural(r.$count,u,c,null,h)):e=t.getString(u,null,h);var s=a.contents();if(0!==s.length){if(e===o(s.html()))return void(f&&n(s)(r));var l=angular.element("<span>"+e+"</span>");n(l.contents())(r);var g=l.contents();i.enter(g,a),i.leave(s)}}var p=e(s.translateN),d=null,f=!0;s.translateN&&r.$watch(s.translateN,l),r.$on("gettextLanguageChanged",l),l(),f=!1}}}}}]),angular.module("gettext").filter("translate",["gettextCatalog",function(t){function e(e,i){return t.getString(e,null,i)}return e.$stateful=!0,e}]),angular.module("gettext").factory("gettextPlurals",function(){return function(t,e){switch(t){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return e%10!=1||e%100==11?1:0;case"jv":return 0!=e?1:0;case"mk":return 1==e||e%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return e>1?1:0;case"lv":return e%10==1&&e%100!=11?0:0!=e?1:2;case"lt":return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"mnk":return 0==e?0:1==e?1:2;case"ro":return 1==e?0:0==e||e%100>0&&e%100<20?1:2;case"pl":return 1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"cs":case"sk":return 1==e?0:e>=2&&e<=4?1:2;case"sl":return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0;case"mt":return 1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3;case"gd":return 1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3;case"cy":return 1==e?0:2==e?1:8!=e&&11!=e?2:3;case"kw":return 1==e?0:2==e?1:3==e?2:3;case"ga":return 1==e?0:2==e?1:e<7?2:e<11?3:4;case"ar":return 0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5;default:return 1!=e?1:0}}}),angular.module("colorpicker.module",[]).factory("Helper",function(){"use strict";return{closestSlider:function(t){var e=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;return e.bind(t)("I")?t.parentNode:t},getOffset:function(t,e){for(var i=0,n=0,r=0,a=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)i+=t.offsetLeft,n+=t.offsetTop,e||"BODY"!==t.tagName?(r+=t.scrollLeft,a+=t.scrollTop):(r+=document.documentElement.scrollLeft||t.scrollLeft,a+=document.documentElement.scrollTop||t.scrollTop),t=t.offsetParent;return{top:n,left:i,scrollX:r,scrollY:a}},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}]}}).factory("Color",["Helper",function(t){"use strict";return{value:{h:1,s:1,b:1,a:1},rgb:function(){var t=this.toRGB();return"rgb("+t.r+","+t.g+","+t.b+")"},rgba:function(){var t=this.toRGB();return"rgba("+t.r+","+t.g+","+t.b+","+t.a+")"},hex:function(){return this.toHex()},RGBtoHSB:function(t,e,i,n){t/=255,e/=255,i/=255;var r,a,o,s;return o=Math.max(t,e,i),s=o-Math.min(t,e,i),r=0===s?null:o===t?(e-i)/s:o===e?(i-t)/s+2:(t-e)/s+4,r=(r+360)%6*60/360,a=0===s?0:s/o,{h:r||1,s:a,b:o,a:n||1}},setColor:function(e){e=e.toLowerCase();for(var i in t.stringParsers)if(t.stringParsers.hasOwnProperty(i)){var n=t.stringParsers[i],r=n.re.exec(e),a=r&&n.parse(r);if(a)return this.value=this.RGBtoHSB.apply(null,a),!1}},setHue:function(t){this.value.h=1-t},setSaturation:function(t){this.value.s=t},setLightness:function(t){this.value.b=1-t},setAlpha:function(t){this.value.a=parseInt(100*(1-t),10)/100},toRGB:function(t,e,i,n){t||(t=this.value.h,e=this.value.s,i=this.value.b),t*=360;var r,a,o,s,l;return t=t%360/60,l=i*e,s=l*(1-Math.abs(t%2-1)),r=a=o=i-l,t=~~t,r+=[l,s,0,0,s,l][t],a+=[s,l,l,s,0,0][t],o+=[0,0,s,l,l,s][t],{r:Math.round(255*r),g:Math.round(255*a),b:Math.round(255*o),a:n||this.value.a}},toHex:function(t,e,i,n){var r=this.toRGB(t,e,i,n);return"#"+(1<<24|parseInt(r.r,10)<<16|parseInt(r.g,10)<<8|parseInt(r.b,10)).toString(16).substr(1)}}}]).factory("Slider",["Helper",function(t){"use strict";var e={maxLeft:0,maxTop:0,callLeft:null,callTop:null,knob:{top:0,left:0}},i={};return{getSlider:function(){return e},getLeftPosition:function(t){return Math.max(0,Math.min(e.maxLeft,e.left+((t.pageX||i.left)-i.left)))},getTopPosition:function(t){return Math.max(0,Math.min(e.maxTop,e.top+((t.pageY||i.top)-i.top)))},setSlider:function(n,r){var a=t.closestSlider(n.target),o=t.getOffset(a,r),s=a.getBoundingClientRect(),l=n.clientX-s.left,u=n.clientY-s.top;e.knob=a.children[0].style,e.left=n.pageX-o.left-window.pageXOffset+o.scrollX,e.top=n.pageY-o.top-window.pageYOffset+o.scrollY,i={left:n.pageX-(l-e.left),top:n.pageY-(u-e.top)}},setSaturation:function(t,i){e={maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setLightness"},this.setSlider(t,i)},setHue:function(t,i){e={maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},this.setSlider(t,i)},setAlpha:function(t,i){e={maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"},this.setSlider(t,i)},setKnob:function(t,i){e.knob.top=t+"px",e.knob.left=i+"px"}}}]).directive("colorpicker",["$document","$compile","Color","Slider","Helper",function(t,e,i,n,r){"use strict";return{require:"?ngModel",restrict:"A",link:function(a,o,s,l){var u,c=s.colorpicker?s.colorpicker:"hex",h=angular.isDefined(s.colorpickerPosition)?s.colorpickerPosition:"bottom",p=!!angular.isDefined(s.colorpickerInline)&&s.colorpickerInline,d=!!angular.isDefined(s.colorpickerFixedPosition)&&s.colorpickerFixedPosition,f=angular.isDefined(s.colorpickerParent)?o.parent():angular.element(document.body),g=!!angular.isDefined(s.colorpickerWithInput)&&s.colorpickerWithInput,m=g?'<input type="text" name="colorpicker-input">':"",v=p?"":'<button type="button" class="close close-colorpicker">&times;</button>',b='<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha><colorpicker-preview></colorpicker-preview>'+m+v+"</div></div>",y=angular.element(b),w=i,x=y.find("colorpicker-hue"),k=y.find("colorpicker-saturation"),C=y.find("colorpicker-preview"),S=y.find("i");if(e(y)(a),g){var T=y.find("input");T.on("mousedown",function(t){t.stopPropagation()}).on("keyup",function(t){var e=this.value;o.val(e),l&&a.$apply(l.$setViewValue(e)),t.stopPropagation(),t.preventDefault()}),o.on("keyup",function(){T.val(o.val())})}var M=function(){t.on("mousemove",$),t.on("mouseup",F)};"rgba"===c&&(y.addClass("alpha"),u=y.find("colorpicker-alpha"),u.on("click",function(t){n.setAlpha(t,d),$(t)}).on("mousedown",function(t){n.setAlpha(t,d),M()}).on("mouseup",function(t){L("colorpicker-selected-alpha")})),x.on("click",function(t){n.setHue(t,d),$(t)}).on("mousedown",function(t){n.setHue(t,d),M()}).on("mouseup",function(t){L("colorpicker-selected-hue")}),k.on("click",function(t){n.setSaturation(t,d),$(t),angular.isDefined(s.colorpickerCloseOnSelect)&&P()}).on("mousedown",function(t){n.setSaturation(t,d),M()}).on("mouseup",function(t){L("colorpicker-selected-saturation")}),d&&y.addClass("colorpicker-fixed-position"),y.addClass("colorpicker-position-"+h),"true"===p&&y.addClass("colorpicker-inline"),f.append(y),l&&(l.$render=function(){o.val(l.$viewValue)},a.$watch(s.ngModel,function(t){D(),g&&T.val(t)})),o.on("$destroy",function(){y.remove()});var E=function(){try{C.css("backgroundColor",w[c]())}catch(t){C.css("backgroundColor",w.toHex())}k.css("backgroundColor",w.toHex(w.value.h,1,1,1)),"rgba"===c&&(u.css.backgroundColor=w.toHex())},$=function(t){var e=n.getLeftPosition(t),i=n.getTopPosition(t),r=n.getSlider();n.setKnob(i,e),r.callLeft&&w[r.callLeft].call(w,e/100),r.callTop&&w[r.callTop].call(w,i/100),E();var s=w[c]();return o.val(s),l&&a.$apply(l.$setViewValue(s)),g&&T.val(s),!1},F=function(){L("colorpicker-selected"),t.off("mousemove",$),t.off("mouseup",F)},D=function(){w.setColor(o.val()),S.eq(0).css({left:100*w.value.s+"px",top:100-100*w.value.b+"px"}),S.eq(1).css("top",100*(1-w.value.h)+"px"),S.eq(2).css("top",100*(1-w.value.a)+"px"),E()},A=function(){var t,e=r.getOffset(o[0]);return angular.isDefined(s.colorpickerParent)&&(e.left=0,e.top=0),"top"===h?t={top:e.top-147,left:e.left}:"right"===h?t={top:e.top,left:e.left+126}:"bottom"===h?t={top:e.top+o[0].offsetHeight+2,left:e.left}:"left"===h&&(t={top:e.top,left:e.left-150}),{top:t.top+"px",left:t.left+"px"}},O=function(){P()},R=function(){y.hasClass("colorpicker-visible")||(D(),y.addClass("colorpicker-visible").css(A()),L("colorpicker-shown"),p===!1&&t.on("mousedown",O),s.colorpickerIsOpen&&(a[s.colorpickerIsOpen]=!0,a.$$phase||a.$digest()))};p===!1?o.on("click",R):R(),y.on("mousedown",function(t){t.stopPropagation(),t.preventDefault()});var L=function(t){l&&a.$emit(t,{name:s.ngModel,value:l.$modelValue})},P=function(){y.hasClass("colorpicker-visible")&&(y.removeClass("colorpicker-visible"),L("colorpicker-closed"),t.off("mousedown",O),s.colorpickerIsOpen&&(a[s.colorpickerIsOpen]=!1,a.$$phase||a.$digest()))};y.find("button").on("click",function(){P()}),s.colorpickerIsOpen&&a.$watch(s.colorpickerIsOpen,function(t){t===!0?R():t===!1&&P()})}}}]),function(){"use strict";var t=this,e=t.Chart,i=function(t){this.canvas=t.canvas,this.ctx=t;this.width=t.canvas.width,this.height=t.canvas.height;return this.aspectRatio=this.width/this.height,n.retinaScale(this),this};i.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},i.types={};var n=i.helpers={},r=n.each=function(t,e,i){var n=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var r;for(r=0;r<t.length;r++)e.apply(i,[t[r],r].concat(n))}else for(var a in t)e.apply(i,[t[a],a].concat(n))},a=n.clone=function(t){var e={};return r(t,function(i,n){t.hasOwnProperty(n)&&(e[n]=i)}),e},o=n.extend=function(t){return r(Array.prototype.slice.call(arguments,1),function(e){r(e,function(i,n){e.hasOwnProperty(n)&&(t[n]=i)})}),t},s=n.merge=function(t,e){var i=Array.prototype.slice.call(arguments,0);return i.unshift({}),o.apply(null,i)},l=n.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},u=(n.where=function(t,e){var i=[];return n.each(t,function(t){e(t)&&i.push(t)}),i},n.findNextWhere=function(t,e,i){i||(i=-1);for(var n=i+1;n<t.length;n++){var r=t[n];if(e(r))return r}},n.findPreviousWhere=function(t,e,i){i||(i=t.length);for(var n=i-1;n>=0;n--){var r=t[n];if(e(r))return r}},n.inherits=function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},n=function(){this.constructor=i};return n.prototype=e.prototype,i.prototype=new n,i.extend=u,t&&o(i.prototype,t),i.__super__=e.prototype,i}),c=n.noop=function(){},h=n.uid=function(){var t=0;return function(){return"chart-"+t++}}(),p=n.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},d=n.amd="function"==typeof define&&define.amd,f=n.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=n.max=function(t){return Math.max.apply(Math,t)},m=n.min=function(t){return Math.min.apply(Math,t)},v=(n.cap=function(t,e,i){if(f(e)){if(t>e)return e}else if(f(i)&&t<i)return i;return t},n.getDecimalPlaces=function(t){return t%1!==0&&f(t)?t.toString().split(".")[1].length:0}),b=n.radians=function(t){return t*(Math.PI/180)},y=(n.getAngleFromPoint=function(t,e){var i=e.x-t.x,n=e.y-t.y,r=Math.sqrt(i*i+n*n),a=2*Math.PI+Math.atan2(n,i);return i<0&&n<0&&(a+=2*Math.PI),{angle:a,distance:r}},n.aliasPixel=function(t){return t%2===0?0:.5}),w=(n.splineCurve=function(t,e,i,n){var r=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),a=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2)),o=n*r/(r+a),s=n*a/(r+a);return{inner:{x:e.x-o*(i.x-t.x),y:e.y-o*(i.y-t.y)},outer:{x:e.x+s*(i.x-t.x),y:e.y+s*(i.y-t.y)}}},n.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),x=(n.calculateScaleRange=function(t,e,i,n,r){var a=2,o=Math.floor(e/(1.5*i)),s=a>=o,l=g(t),u=m(t);l===u&&(l+=.5,u>=.5&&!n?u-=.5:l+=.5);for(var c=Math.abs(l-u),h=w(c),p=Math.ceil(l/(1*Math.pow(10,h)))*Math.pow(10,h),d=n?0:Math.floor(u/(1*Math.pow(10,h)))*Math.pow(10,h),f=p-d,v=Math.pow(10,h),b=Math.round(f/v);(b>o||2*b<o)&&!s;)if(b>o)v*=2,b=Math.round(f/v),b%1!==0&&(s=!0);else if(r&&h>=0){if(v/2%1!==0)break;v/=2,b=Math.round(f/v)}else v/=2,b=Math.round(f/v);return s&&(b=a,v=f/b),{steps:b,stepValue:v,min:d,max:d+b*v}},n.template=function(t,e){function i(t,e){var i=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):n[t]=n[t];return e?i(e):i}if(t instanceof Function)return t(e);var n={};return i(t,e)}),k=(n.generateLabels=function(t,e,i,n){var a=new Array(e);return labelTemplateString&&r(a,function(e,r){a[r]=x(t,{value:i+n*(r+1)})}),a},n.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),-(n*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)))},easeOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:2==(t/=.5)?1:(i||(i=1*(.3*1.5)),n<Math.abs(1)?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),t<1?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)):n*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-k.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):t<2/2.75?1*(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return t<.5?.5*k.easeInBounce(2*t):.5*k.easeOutBounce(2*t-1)+.5}}),C=n.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),S=(n.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),n.animationLoop=function(t,e,i,n,r,a){var o=0,s=k[i]||k.linear,l=function(){o++;var i=o/e,u=s(i);t.call(a,u,i,o),n.call(a,u,i),o<e?a.animationFrame=C(l):r.apply(a)};C(l)},n.getRelativePosition=function(t){var e,i,n=t.originalEvent||t,r=t.currentTarget||t.srcElement,a=r.getBoundingClientRect();return n.touches?(e=n.touches[0].clientX-a.left,i=n.touches[0].clientY-a.top):(e=n.clientX-a.left,i=n.clientY-a.top),{x:e,y:i}},n.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}),T=n.removeEvent=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=c},M=(n.bindEvents=function(t,e,i){t.events||(t.events={}),r(e,function(e){t.events[e]=function(){i.apply(t,arguments)},S(t.chart.canvas,e,t.events[e])})},n.unbindEvents=function(t,e){r(e,function(e,i){T(t.chart.canvas,i,e)})}),E=n.getMaximumWidth=function(t){var e=t.parentNode;return e.clientWidth},$=n.getMaximumHeight=function(t){var e=t.parentNode;return e.clientHeight},F=(n.getMaximumSize=n.getMaximumWidth,n.retinaScale=function(t){var e=t.ctx,i=t.canvas.width,n=t.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=i+"px",e.canvas.style.height=n+"px",e.canvas.height=n*window.devicePixelRatio,e.canvas.width=i*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio))}),D=n.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},A=n.fontString=function(t,e,i){return e+" "+t+"px "+i},O=n.longestText=function(t,e,i){t.font=e;var n=0;return r(i,function(e){var i=t.measureText(e).width;n=i>n?i:n}),n},R=n.drawRoundedRectangle=function(t,e,i,n,r,a){t.beginPath(),t.moveTo(e+a,i),t.lineTo(e+n-a,i),t.quadraticCurveTo(e+n,i,e+n,i+a),t.lineTo(e+n,i+r-a),t.quadraticCurveTo(e+n,i+r,e+n-a,i+r),t.lineTo(e+a,i+r),t.quadraticCurveTo(e,i+r,e,i+r-a),t.lineTo(e,i+a),t.quadraticCurveTo(e,i,e+a,i),t.closePath()};i.instances={},i.Type=function(t,e,n){this.options=e,this.chart=n,this.id=h(),i.instances[this.id]=this,e.responsive&&this.resize(),this.initialize.call(this,t)},o(i.Type.prototype,{initialize:function(){return this},clear:function(){return D(this.chart),this},stop:function(){return n.cancelAnimFrame.call(t,this.animationFrame),this},resize:function(t){this.stop();var e=this.chart.canvas,i=E(this.chart.canvas),n=this.options.maintainAspectRatio?i/this.chart.aspectRatio:$(this.chart.canvas);return e.width=this.chart.width=i,e.height=this.chart.height=n,F(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?n.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return x(this.options.legendTemplate,this)},destroy:function(){this.clear(),M(this,this.events);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,t.style.removeProperty?(t.style.removeProperty("width"),t.style.removeProperty("height")):(t.style.removeAttribute("width"),t.style.removeAttribute("height")),delete i.instances[this.id]},showTooltip:function(t,e){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var a=function(t){var e=!1;return t.length!==this.activeElements.length?e=!0:(r(t,function(t,i){t!==this.activeElements[i]&&(e=!0)},this),e)}.call(this,t);if(a||e){if(this.activeElements=t,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),t.length>0)if(this.datasets&&this.datasets.length>1){for(var o,s,u=this.datasets.length-1;u>=0&&(o=this.datasets[u].points||this.datasets[u].bars||this.datasets[u].segments,s=l(o,t[0]),s===-1);u--);var c=[],h=[],p=function(t){var e,i,r,a,o,l=[],u=[],p=[];return n.each(this.datasets,function(t){e=t.points||t.bars||t.segments,e[s]&&e[s].hasValue()&&l.push(e[s])}),n.each(l,function(t){u.push(t.x),p.push(t.y),c.push(n.template(this.options.multiTooltipTemplate,t)),h.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),o=m(p),r=g(p),a=m(u),i=g(u),{x:a>this.chart.width/2?a:i,y:(o+r)/2}}.call(this,s);new i.MultiTooltip({x:p.x,y:p.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:h,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else r(t,function(t){var e=t.tooltipPosition();new i.Tooltip({x:Math.round(e.x),y:Math.round(e.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:x(this.options.tooltipTemplate,t),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),i.Type.extend=function(t){var e=this,n=function(){return e.apply(this,arguments)};if(n.prototype=a(e.prototype),o(n.prototype,t),n.extend=i.Type.extend,t.name||e.prototype.name){var r=t.name||e.prototype.name,l=i.defaults[e.prototype.name]?a(i.defaults[e.prototype.name]):{};i.defaults[r]=o(l,t.defaults),i.types[r]=n,i.prototype[r]=function(t,e){var a=s(i.defaults.global,i.defaults[r],e||{});return new n(t,a,this)}}else p("Name not provided for this chart, so it hasn't been registered");return e},i.Element=function(t){o(this,t),this.initialize.apply(this,arguments),this.save()},o(i.Element.prototype,{initialize:function(){},restore:function(t){return t?r(t,function(t){this[t]=this._saved[t]},this):o(this,this._saved),this},save:function(){return this._saved=a(this),delete this._saved._saved,this},update:function(t){return r(t,function(t,e){this._saved[e]=this[e],this[e]=t},this),this},transition:function(t,e){return r(t,function(t,i){this[i]=(t-this._saved[i])*e+this._saved[i]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),i.Element.extend=u,i.Point=i.Element.extend({display:!0,inRange:function(t,e){var i=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(e-this.y,2)<Math.pow(i,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),i.Arc=i.Element.extend({inRange:function(t,e){var i=n.getAngleFromPoint(this,{x:t,y:e}),r=i.angle>=this.startAngle&&i.angle<=this.endAngle,a=i.distance>=this.innerRadius&&i.distance<=this.outerRadius;return r&&a},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,e=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*e,y:this.y+Math.sin(t)*e}},draw:function(t){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),e.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.lineJoin="bevel",this.showStroke&&e.stroke()}}),i.Rectangle=i.Element.extend({draw:function(){var t=this.ctx,e=this.width/2,i=this.x-e,n=this.x+e,r=this.base-(this.base-this.y),a=this.strokeWidth/2;this.showStroke&&(i+=a,n-=a,r+=a),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(i,this.base),t.lineTo(i,r),t.lineTo(n,r),t.lineTo(n,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,e){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&e>=this.y&&e<=this.base}}),i.Tooltip=i.Element.extend({draw:function(){var t=this.chart.ctx;t.font=A(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var e=this.caretPadding=2,i=t.measureText(this.text).width+2*this.xPadding,n=this.fontSize+2*this.yPadding,r=n+this.caretHeight+e;this.x+i/2>this.chart.width?this.xAlign="left":this.x-i/2<0&&(this.xAlign="right"),this.y-r<0&&(this.yAlign="below");var a=this.x-i/2,o=this.y-r;if(t.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-e),t.lineTo(this.x+this.caretHeight,this.y-(e+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(e+this.caretHeight)),t.closePath(),t.fill();break;case"below":o=this.y+e+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+e),t.lineTo(this.x+this.caretHeight,this.y+e+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+e+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":a=this.x-i+(this.cornerRadius+this.caretHeight);break;case"right":a=this.x-(this.cornerRadius+this.caretHeight)}R(t,a,o,i,n,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,a+i/2,o+n/2)}}}),i.MultiTooltip=i.Element.extend({initialize:function(){this.font=A(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=A(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,e=O(this.ctx,this.font,this.labels)+this.fontSize+3,i=g([e,t]);this.width=i+2*this.xPadding;var n=this.height/2;this.y-n<0?this.y=n:this.y+n>this.chart.height&&(this.y=this.chart.height-n),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var e=this.y-this.height/2+this.yPadding,i=t-1;return 0===t?e+this.titleFontSize/2:e+(1.5*this.fontSize*i+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{R(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,n.each(this.labels,function(e,i){t.fillStyle=this.textColor,t.fillText(e,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(i+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[i].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),i.Scale=i.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),e=0;e<=this.steps;e++)this.yLabels.push(x(this.templateString,{
value:(this.min+e*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?O(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,e=this.endPoint-this.startPoint;for(this.calculateYRange(e),this.buildYLabels(),this.calculateXLabelRotation();e>this.endPoint-this.startPoint;)e=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(e),this.buildYLabels(),t<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,e,i=this.ctx.measureText(this.xLabels[0]).width,n=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=n/2+3,this.xScalePaddingLeft=i/2>this.yLabelWidth+10?i/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var r,a=O(this.ctx,this.font,this.xLabels);this.xLabelWidth=a;for(var o=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>o&&0===this.xLabelRotation||this.xLabelWidth>o&&this.xLabelRotation<=90&&this.xLabelRotation>0;)r=Math.cos(b(this.xLabelRotation)),t=r*i,e=r*n,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=r*a;this.xLabelRotation>0&&(this.endPoint-=Math.sin(b(this.xLabelRotation))*a+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var e=this.drawingArea()/(this.min-this.max);return this.endPoint-e*(t-this.min)},calculateX:function(t){var e=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),i=e/(this.valuesCount-(this.offsetGridLines?0:1)),n=i*t+this.xScalePaddingLeft;return this.offsetGridLines&&(n+=i/2),Math.round(n)},update:function(t){n.extend(this,t),this.fit()},draw:function(){var t=this.ctx,e=(this.endPoint-this.startPoint)/this.steps,i=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,r(this.yLabels,function(r,a){var o=this.endPoint-e*a,s=Math.round(o),l=this.showHorizontalLines;t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(r,i-10,o),0!==a||l||(l=!0),l&&t.beginPath(),a>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),s+=n.aliasPixel(t.lineWidth),l&&(t.moveTo(i,s),t.lineTo(this.width,s),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(i-5,s),t.lineTo(i,s),t.stroke(),t.closePath()},this),r(this.xLabels,function(e,i){var n=this.calculateX(i)+y(this.lineWidth),r=this.calculateX(i-(this.offsetGridLines?.5:0))+y(this.lineWidth),a=this.xLabelRotation>0,o=this.showVerticalLines;0!==i||o||(o=!0),o&&t.beginPath(),i>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),o&&(t.moveTo(r,this.endPoint),t.lineTo(r,this.startPoint-3),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(r,this.endPoint),t.lineTo(r,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(n,a?this.endPoint+12:this.endPoint+8),t.rotate(b(this.xLabelRotation)*-1),t.font=this.font,t.textAlign=a?"right":"center",t.textBaseline=a?"middle":"top",t.fillText(e,0,0),t.restore()},this))}}),i.RadialScale=i.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var e=this.drawingArea/(this.max-this.min);return(t-this.min)*e},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),e=0;e<=this.steps;e++)this.yLabels.push(x(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,e,i,n,r,a,o,s,l,u,c,h,p=m([this.height/2-this.pointLabelFontSize-5,this.width/2]),d=this.width,g=0;for(this.ctx.font=A(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e=0;e<this.valuesCount;e++)t=this.getPointPosition(e,p),i=this.ctx.measureText(x(this.templateString,{value:this.labels[e]})).width+5,0===e||e===this.valuesCount/2?(n=i/2,t.x+n>d&&(d=t.x+n,r=e),t.x-n<g&&(g=t.x-n,o=e)):e<this.valuesCount/2?t.x+i>d&&(d=t.x+i,r=e):e>this.valuesCount/2&&t.x-i<g&&(g=t.x-i,o=e);l=g,u=Math.ceil(d-this.width),a=this.getIndexAngle(r),s=this.getIndexAngle(o),c=u/Math.sin(a+Math.PI/2),h=l/Math.sin(s+Math.PI/2),c=f(c)?c:0,h=f(h)?h:0,this.drawingArea=p-(h+c)/2,this.setCenterPoint(h,c)},setCenterPoint:function(t,e){var i=this.width-e-this.drawingArea,n=t+this.drawingArea;this.xCenter=(n+i)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var e=2*Math.PI/this.valuesCount;return t*e-Math.PI/2},getPointPosition:function(t,e){var i=this.getIndexAngle(t);return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(r(this.yLabels,function(e,i){if(i>0){var n,r=i*(this.drawingArea/this.steps),a=this.yCenter-r;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,r,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var o=0;o<this.valuesCount;o++)n=this.getPointPosition(o,this.calculateCenterOffset(this.min+i*this.stepValue)),0===o?t.moveTo(n.x,n.y):t.lineTo(n.x,n.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=A(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var s=t.measureText(e).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-s/2-this.backdropPaddingX,a-this.fontSize/2-this.backdropPaddingY,s+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(e,this.xCenter,a)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var e=this.valuesCount-1;e>=0;e--){if(this.angleLineWidth>0){var i=this.getPointPosition(e,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(i.x,i.y),t.stroke(),t.closePath()}var n=this.getPointPosition(e,this.calculateCenterOffset(this.max)+5);t.font=A(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var a=this.labels.length,o=this.labels.length/2,s=o/2,l=e<s||e>a-s,u=e===s||e===a-s;0===e?t.textAlign="center":e===o?t.textAlign="center":e<o?t.textAlign="left":t.textAlign="right",u?t.textBaseline="middle":l?t.textBaseline="bottom":t.textBaseline="top",t.fillText(this.labels[e],n.x,n.y)}}}}}),n.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){r(i.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),d?define(function(){return i}):"object"==typeof module&&module.exports&&(module.exports=i),t.Chart=i,i.noConflict=function(){return t.Chart=e,i}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Doughnut",defaults:n,initialize:function(t){this.segments=[],this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=e.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];i.each(this.segments,function(t){t.restore(["fillColor"])}),i.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.calculateTotal(t),i.each(t,function(t,e){this.addData(t,e,!0)},this),this.render()},getSegmentsAtEvent:function(t){var e=[],n=i.getRelativePosition(t);return i.each(this.segments,function(t){t.inRange(n.x,n.y)&&e.push(t)},this),e},addData:function(t,e,i){var n=e||this.segments.length;this.segments.splice(n,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),i||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(t/this.total)},calculateTotal:function(t){this.total=0,i.each(t,function(t){this.total+=t.value},this)},update:function(){this.calculateTotal(this.segments),i.each(this.activeElements,function(t){t.restore(["fillColor"])}),i.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var e=i.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,i.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var e=t?t:1;this.clear(),i.each(this.segments,function(t,i){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},e),t.endAngle=t.startAngle+t.circumference,t.draw(),0===i&&(t.startAngle=1.5*Math.PI),i<this.segments.length-1&&(this.segments[i+1].startAngle=t.endAngle)},this)}}),e.types.Doughnut.extend({name:"Pie",defaults:i.merge(n,{percentageInnerCutout:0})})}.call(this),function(){var t,e,i,n,r,a,o,s,l=[].slice,u={}.hasOwnProperty,c=function(t,e){function i(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};o=function(){},e=function(){function t(){}return t.prototype.addEventListener=t.prototype.on,t.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},t.prototype.emit=function(){var t,e,i,n,r,a;if(n=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[n])for(r=0,a=i.length;r<a;r++)e=i[r],e.apply(this,t);return this},t.prototype.removeListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.off=function(t,e){var i,n,r,a,o;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(n=this._callbacks[t],!n)return this;if(1===arguments.length)return delete this._callbacks[t],this;for(r=a=0,o=n.length;a<o;r=++a)if(i=n[r],i===e){n.splice(r,1);break}return this},t}(),t=function(t){function i(t,e){var r,a,o;if(this.element=t,this.version=i.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(i.instances.push(this),this.element.dropzone=this,r=null!=(o=i.optionsForElement(this.element))?o:{},this.options=n({},this.defaultOptions,r,null!=e?e:{}),this.options.forceFallback||!i.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(a=this.getExistingFallback())&&a.parentNode&&a.parentNode.removeChild(a),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=i.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=i.getElements(this.options.clickable,"clickable")),this.init()}var n,r;return c(i,t),i.prototype.Emitter=e,i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],i.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return o},forceFallback:!1,fallback:function(){var t,e,n,r,a,o;for(this.element.className=""+this.element.className+" dz-browser-not-supported",o=this.element.getElementsByTagName("div"),r=0,a=o.length;r<a;r++)t=o[r],/(^| )dz-message($| )/.test(t.className)&&(e=t,t.className="dz-message");return e||(e=i.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e)),n=e.getElementsByTagName("span")[0],n&&(n.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,i,n;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},i=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=i*e.optHeight:null==e.optHeight&&(e.optHeight=1/i*e.optWidth),n=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):i>n?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*n):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/n),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:o,dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:o,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,n,r,a,o,s,l,u,c,h,p,d,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=i.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),h=t.previewElement.querySelectorAll("[data-dz-name]"),a=0,l=h.length;a<l;a++)e=h[a],e.textContent=t.name;for(p=t.previewElement.querySelectorAll("[data-dz-size]"),o=0,u=p.length;o<u;o++)e=p[o],e.innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),n=function(e){return function(n){return n.preventDefault(),n.stopPropagation(),t.status===i.UPLOADING?i.confirm(e.options.dictCancelUploadConfirmation,function(){return e.removeFile(t)}):e.options.dictRemoveFileConfirmation?i.confirm(e.options.dictRemoveFileConfirmation,function(){return e.removeFile(t)}):e.removeFile(t)}}(this),d=t.previewElement.querySelectorAll("[data-dz-remove]"),f=[],s=0,c=d.length;s<c;s++)r=d[s],f.push(r.addEventListener("click",n));return f}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,n,r,a;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),a=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,r=a.length;n<r;n++)i=a[n],i.alt=t.name,i.src=e;return setTimeout(function(e){return function(){return t.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(t,e){var i,n,r,a,o;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),a=t.previewElement.querySelectorAll("[data-dz-errormessage]"),o=[],n=0,r=a.length;n<r;n++)i=a[n],o.push(i.textContent=e);return o}},errormultiple:o,processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:o,uploadprogress:function(t,e,i){var n,r,a,o,s;if(t.previewElement){for(o=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),s=[],r=0,a=o.length;r<a;r++)n=o[r],"PROGRESS"===n.nodeName?s.push(n.value=e):s.push(n.style.width=""+e+"%");return s}},totaluploadprogress:o,sending:o,sendingmultiple:o,success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:o,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:o,complete:function(t){if(t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:o,maxfilesexceeded:o,maxfilesreached:o,queuecomplete:o,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},n=function(){var t,e,i,n,r,a,o;for(n=arguments[0],i=2<=arguments.length?l.call(arguments,1):[],a=0,o=i.length;a<o;a++){e=i[a];for(t in e)r=e[t],n[t]=r}return n},i.prototype.getAcceptedFiles=function(){var t,e,i,n,r;for(n=this.files,r=[],e=0,i=n.length;e<i;e++)t=n[e],t.accepted&&r.push(t);return r},i.prototype.getRejectedFiles=function(){var t,e,i,n,r;for(n=this.files,r=[],e=0,i=n.length;e<i;e++)t=n[e],t.accepted||r.push(t);return r},i.prototype.getFilesWithStatus=function(t){var e,i,n,r,a;for(r=this.files,a=[],i=0,n=r.length;i<n;i++)e=r[i],e.status===t&&a.push(e);return a},i.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(i.QUEUED)},i.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(i.UPLOADING)},i.prototype.getActiveFiles=function(){var t,e,n,r,a;for(r=this.files,a=[],e=0,n=r.length;e<n;e++)t=r[e],t.status!==i.UPLOADING&&t.status!==i.QUEUED||a.push(t);return a},i.prototype.init=function(){var t,e,n,r,a,o,s;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(t){return function(){return t.hiddenFileInput&&document.body.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null==t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!=t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!=t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",document.body.appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e,i,r,a;if(i=t.hiddenFileInput.files,i.length)for(r=0,a=i.length;r<a;r++)e=i[r],t.addFile(e);return n()})}}(this))(),this.URL=null!=(o=window.URL)?o:window.webkitURL,s=this.events,r=0,a=s.length;r<a;r++)t=s[r],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(e){if(0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout(function(){return t.emit("queuecomplete")},0)}}(this)),e=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(i){return e(i),t.emit("dragenter",i)}}(this),dragover:function(t){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(t){}return i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",e(i),t.emit("dragover",i)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(i){return e(i),t.drop(i)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(e){return t.listeners.push({element:e,events:{click:function(n){if(e!==t.element||n.target===t.element||i.elementInside(n.target,t.element.querySelector(".dz-message")))return t.hiddenFileInput.click()}}})}}(this)),this.enable(),this.options.init.call(this)},i.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,i.instances.splice(i.instances.indexOf(this),1)},i.prototype.updateTotalUploadProgress=function(){var t,e,i,n,r,a,o,s;if(n=0,i=0,t=this.getActiveFiles(),t.length){for(s=this.getActiveFiles(),a=0,o=s.length;a<o;a++)e=s[a],n+=e.upload.bytesSent,i+=e.upload.total;r=100*n/i}else r=100;return this.emit("totaluploadprogress",r,i,n)},i.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):""+this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},i.prototype.getFallbackForm=function(){var t,e,n,r;return(t=this.getExistingFallback())?t:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=i.createElement(n),"FORM"!==this.element.tagName?(r=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),r.appendChild(e)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:e)},i.prototype.getExistingFallback=function(){var t,e,i,n,r,a;for(e=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)if(e=t[i],/(^| )fallback($| )/.test(e.className))return e},a=["div","form"],n=0,r=a.length;n<r;n++)if(i=a[n],t=e(this.element.getElementsByTagName(i)))return t},i.prototype.setupEventListeners=function(){var t,e,i,n,r,a,o;for(a=this.listeners,o=[],n=0,r=a.length;n<r;n++)t=a[n],o.push(function(){var n,r;n=t.events,r=[];for(e in n)i=n[e],r.push(t.element.addEventListener(e,i,!1));return r}());return o},i.prototype.removeEventListeners=function(){var t,e,i,n,r,a,o;for(a=this.listeners,o=[],n=0,r=a.length;n<r;n++)t=a[n],o.push(function(){var n,r;n=t.events,r=[];for(e in n)i=n[e],r.push(t.element.removeEventListener(e,i,!1));return r}());return o},i.prototype.disable=function(){var t,e,i,n,r;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,r=[],e=0,i=n.length;e<i;e++)t=n[e],r.push(this.cancelUpload(t));return r},i.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},i.prototype.filesize=function(t){var e,i,n,r,a,o,s,l;for(o=["TB","GB","MB","KB","b"],n=r=null,i=s=0,l=o.length;s<l;i=++s)if(a=o[i],e=Math.pow(this.options.filesizeBase,4-i)/10,t>=e){n=t/Math.pow(this.options.filesizeBase,4-i),r=a;break}return n=Math.round(10*n)/10,"<strong>"+n+"</strong> "+r},i.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},i.prototype.drop=function(t){var e,i;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,e.length&&(i=t.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)))},i.prototype.paste=function(t){var e,i;if(null!=(null!=t&&null!=(i=t.clipboardData)?i.items:void 0))return this.emit("paste",t),e=t.clipboardData.items,e.length?this._addFilesFromItems(e):void 0},i.prototype.handleFiles=function(t){var e,i,n,r;for(r=[],i=0,n=t.length;i<n;i++)e=t[i],r.push(this.addFile(e));return r},i.prototype._addFilesFromItems=function(t){var e,i,n,r,a;for(a=[],n=0,r=t.length;n<r;n++)i=t[n],null!=i.webkitGetAsEntry&&(e=i.webkitGetAsEntry())?e.isFile?a.push(this.addFile(i.getAsFile())):e.isDirectory?a.push(this._addFilesFromDirectory(e,e.name)):a.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?a.push(this.addFile(i.getAsFile())):a.push(void 0);return a},i.prototype._addFilesFromDirectory=function(t,e){var i,n;return i=t.createReader(),n=function(t){return function(i){var n,r,a;for(r=0,a=i.length;r<a;r++)n=i[r],n.isFile?n.file(function(i){if(!t.options.ignoreHiddenFiles||"."!==i.name.substring(0,1))return i.fullPath=""+e+"/"+i.name,t.addFile(i)}):n.isDirectory&&t._addFilesFromDirectory(n,""+e+"/"+n.name)}}(this),i.readEntries(n,function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0})},i.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType);
},i.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=i.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return function(i){return i?(t.accepted=!1,e._errorProcessing([t],i)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}}(this))},i.prototype.enqueueFiles=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)e=t[i],this.enqueueFile(e);return null},i.prototype.enqueueFile=function(t){if(t.status!==i.ADDED||t.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=i.QUEUED,this.options.autoProcessQueue)return setTimeout(function(t){return function(){return t.processQueue()}}(this),0)},i.prototype._thumbnailQueue=[],i.prototype._processingThumbnail=!1,i.prototype._enqueueThumbnail=function(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)},i.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(t){return function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}}(this))},i.prototype.removeFile=function(t){if(t.status===i.UPLOADING&&this.cancelUpload(t),this.files=s(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")},i.prototype.removeAllFiles=function(t){var e,n,r,a;for(null==t&&(t=!1),a=this.files.slice(),n=0,r=a.length;n<r;n++)e=a[n],(e.status!==i.UPLOADING||t)&&this.removeFile(e);return null},i.prototype.createThumbnail=function(t,e){var i;return i=new FileReader,i.onload=function(n){return function(){var r;return"image/svg+xml"===t.type?(n.emit("thumbnail",t,i.result),void(null!=e&&e())):(r=document.createElement("img"),r.onload=function(){var i,o,s,l,u,c,h,p;if(t.width=r.width,t.height=r.height,s=n.options.resize.call(n,t),null==s.trgWidth&&(s.trgWidth=s.optWidth),null==s.trgHeight&&(s.trgHeight=s.optHeight),i=document.createElement("canvas"),o=i.getContext("2d"),i.width=s.trgWidth,i.height=s.trgHeight,a(o,r,null!=(u=s.srcX)?u:0,null!=(c=s.srcY)?c:0,s.srcWidth,s.srcHeight,null!=(h=s.trgX)?h:0,null!=(p=s.trgY)?p:0,s.trgWidth,s.trgHeight),l=i.toDataURL("image/png"),n.emit("thumbnail",t,l),null!=e)return e()},r.onerror=e,r.src=i.result)}}(this),i.readAsDataURL(t)},i.prototype.processQueue=function(){var t,e,i,n;if(e=this.options.parallelUploads,i=this.getUploadingFiles().length,t=i,!(i>=e)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-i));for(;t<e;){if(!n.length)return;this.processFile(n.shift()),t++}}},i.prototype.processFile=function(t){return this.processFiles([t])},i.prototype.processFiles=function(t){var e,n,r;for(n=0,r=t.length;n<r;n++)e=t[n],e.processing=!0,e.status=i.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},i.prototype._getFilesWithXhr=function(t){var e,i;return i=function(){var i,n,r,a;for(r=this.files,a=[],i=0,n=r.length;i<n;i++)e=r[i],e.xhr===t&&a.push(e);return a}.call(this)},i.prototype.cancelUpload=function(t){var e,n,r,a,o,s,l;if(t.status===i.UPLOADING){for(n=this._getFilesWithXhr(t.xhr),r=0,o=n.length;r<o;r++)e=n[r],e.status=i.CANCELED;for(t.xhr.abort(),a=0,s=n.length;a<s;a++)e=n[a],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else(l=t.status)!==i.ADDED&&l!==i.QUEUED||(t.status=i.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()},r=function(){var t,e;return e=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},i.prototype.uploadFile=function(t){return this.uploadFiles([t])},i.prototype.uploadFiles=function(t){var e,a,o,s,l,u,c,h,p,d,f,g,m,v,b,y,w,x,k,C,S,T,M,E,$,F,D,A,O,R,L,P,I,N;for(k=new XMLHttpRequest,C=0,E=t.length;C<E;C++)e=t[C],e.xhr=k;g=r(this.options.method,t),w=r(this.options.url,t),k.open(g,w,!0),k.withCredentials=!!this.options.withCredentials,b=null,o=function(i){return function(){var n,r,a;for(a=[],n=0,r=t.length;n<r;n++)e=t[n],a.push(i._errorProcessing(t,b||i.options.dictResponseError.replace("{{statusCode}}",k.status),k));return a}}(this),y=function(i){return function(n){var r,a,o,s,l,u,c,h,p;if(null!=n)for(a=100*n.loaded/n.total,o=0,u=t.length;o<u;o++)e=t[o],e.upload={progress:a,total:n.total,bytesSent:n.loaded};else{for(r=!0,a=100,s=0,c=t.length;s<c;s++)e=t[s],100===e.upload.progress&&e.upload.bytesSent===e.upload.total||(r=!1),e.upload.progress=a,e.upload.bytesSent=e.upload.total;if(r)return}for(p=[],l=0,h=t.length;l<h;l++)e=t[l],p.push(i.emit("uploadprogress",e,a,e.upload.bytesSent));return p}}(this),k.onload=function(e){return function(n){var r;if((!t[0]||t[0].status!==i.CANCELED)&&4===k.readyState){if(b=k.responseText,k.getResponseHeader("content-type")&&~k.getResponseHeader("content-type").indexOf("application/json"))try{b=JSON.parse(b)}catch(t){n=t,b="Invalid JSON response from server."}return y(),200<=(r=k.status)&&r<300?e._finished(t,b,n):o()}}}(this),k.onerror=function(e){return function(){if(t[0].status!==i.CANCELED)return o()}}(this),v=null!=(O=k.upload)?O:k,v.onprogress=y,u={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(u,this.options.headers);for(s in u)l=u[s],k.setRequestHeader(s,l);if(a=new FormData,this.options.params){R=this.options.params;for(f in R)x=R[f],a.append(f,x)}for(S=0,$=t.length;S<$;S++)e=t[S],this.emit("sending",e,k,a);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,k,a),"FORM"===this.element.tagName)for(L=this.element.querySelectorAll("input, textarea, select, button"),T=0,F=L.length;T<F;T++)if(h=L[T],p=h.getAttribute("name"),d=h.getAttribute("type"),"SELECT"===h.tagName&&h.hasAttribute("multiple"))for(P=h.options,M=0,D=P.length;M<D;M++)m=P[M],m.selected&&a.append(p,m.value);else(!d||"checkbox"!==(I=d.toLowerCase())&&"radio"!==I||h.checked)&&a.append(p,h.value);for(c=A=0,N=t.length-1;0<=N?A<=N:A>=N;c=0<=N?++A:--A)"undefined"!=typeof t[c]?a.append(this._getParamName(c),t[c],t[c].name):a.append(this._getParamName(c),t[c],"");return k.send(a)},i.prototype._finished=function(t,e,n){var r,a,o;for(a=0,o=t.length;a<o;a++)r=t[a],r.status=i.SUCCESS,this.emit("success",r,e,n),this.emit("complete",r);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},i.prototype._errorProcessing=function(t,e,n){var r,a,o;for(a=0,o=t.length;a<o;a++)r=t[a],r.status=i.ERROR,this.emit("error",r,e,n),this.emit("complete",r);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},i}(e),t.version="4.0.0",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[i(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},t.autoDiscover=!0,t.discover=function(){var e,i,n,r,a,o;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],e=function(t){var e,i,r,a;for(a=[],i=0,r=t.length;i<r;i++)e=t[i],/(^| )dropzone($| )/.test(e.className)?a.push(n.push(e)):a.push(void 0);return a},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),o=[],r=0,a=n.length;r<a;r++)i=n[r],t.optionsForElement(i)!==!1?o.push(new t(i)):o.push(void 0);return o},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,i,n,r,a;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(a=t.blacklistedBrowsers,n=0,r=a.length;n<r;n++)i=a[n],i.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},s=function(t,e){var i,n,r,a;for(a=[],n=0,r=t.length;n<r;n++)i=t[n],i!==e&&a.push(i);return a},i=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},t.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},t.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},t.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},t.getElements=function(t,e){var i,n,r,a,o,s,l,u;if(t instanceof Array){r=[];try{for(a=0,s=t.length;a<s;a++)n=t[a],r.push(this.getElement(n,e))}catch(t){i=t,r=null}}else if("string"==typeof t)for(r=[],u=document.querySelectorAll(t),o=0,l=u.length;o<l;o++)n=u[o],r.push(n);else null!=t.nodeType&&(r=[t]);if(null==r||!r.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return r},t.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},t.isValidFile=function(t,e){var i,n,r,a,o;if(!e)return!0;for(e=e.split(","),n=t.type,i=n.replace(/\/.*$/,""),a=0,o=e.length;a<o;a++)if(r=e[a],r=r.trim(),"."===r.charAt(0)){if(t.name.toLowerCase().indexOf(r.toLowerCase(),t.name.length-r.length)!==-1)return!0}else if(/\/\*$/.test(r)){if(i===r.replace(/\/.*$/,""))return!0}else if(n===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",r=function(t){var e,i,n,r,a,o,s,l,u,c;for(s=t.naturalWidth,o=t.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=o,n=i.getContext("2d"),n.drawImage(t,0,0),r=n.getImageData(0,0,1,o).data,c=0,a=o,l=o;l>c;)e=r[4*(l-1)+3],0===e?a=l:c=l,l=a+c>>1;return u=l/o,0===u?1:u},a=function(t,e,i,n,a,o,s,l,u,c){var h;return h=r(e),t.drawImage(e,i,n,a,o,s,l,u,c/h)},n=function(t,e){var i,n,r,a,o,s,l,u,c;if(r=!1,c=!0,n=t.document,u=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",s=n.addEventListener?"":"on",a=function(i){if("readystatechange"!==i.type||"complete"===n.readyState)return("load"===i.type?t:n)[l](s+i.type,a,!1),!r&&(r=!0)?e.call(t,i.type||i):void 0},o=function(){var t;try{u.doScroll("left")}catch(e){return t=e,void setTimeout(o,50)}return a("poll")},"complete"!==n.readyState){if(n.createEventObject&&u.doScroll){try{c=!t.frameElement}catch(t){}c&&o()}return n[i](s+"DOMContentLoaded",a,!1),n[i](s+"readystatechange",a,!1),t[i](s+"load",a,!1)}},t._autoDiscoverFunction=function(){if(t.autoDiscover)return t.discover()},n(window,t._autoDiscoverFunction)}.call(this),function(){"use strict";function t(e,n){function r(t,e){return function(){return t.apply(e,arguments)}}var a;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=e,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!t.notNeeded(e)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,l=0,u=o.length;l<u;l++)s[o[l]]=r(s[o[l]],s);i&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,n){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,i.hijacked||i,n):r.call(e,t,i,n)},e.addEventListener=function(t,i,n){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):r.call(e,t,i,n)}),"function"==typeof e.onclick&&(a=e.onclick,e.addEventListener("click",function(t){a(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!e,n=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,r=n&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=n&&/OS [6-7]_\d/.test(navigator.userAgent),o=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(n&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},t.prototype.determineEventType=function(t){return i&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;n&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,i,a;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],n){if(a=window.getSelection(),a.rangeCount&&!a.isCollapsed)return!0;if(!r){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},t.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,o,s,l,u,c=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,o=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(u=t.changedTouches[0],c=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||c,c.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=c.tagName.toLowerCase(),"label"===s){if(e=this.findControl(c)){if(this.focus(c),i)return!1;c=e}}else if(this.needsFocus(c))return t.timeStamp-o>100||n&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,t),n&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return!(!n||r||(l=c.fastClickScrollParent,!l||l.fastClickLastScrollTop===l.scrollTop))||(this.needsClick(c)||(t.preventDefault(),this.sendClick(c,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;i&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,n,r,a;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i)return!0;if(e=document.querySelector("meta[name=viewport]")){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(o&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(a=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(a>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(e.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},t.attach=function(e,i){return new t(e,i)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}();var saveAs=saveAs||function(t){"use strict";if(!("undefined"==typeof t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,i=function(){return t.URL||t.webkitURL||t},n=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,a=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},o=/constructor/i.test(t.HTMLElement),s=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l="application/octet-stream",u=4e4,c=function(t){var e=function(){"string"==typeof t?i().revokeObjectURL(t):t.remove()};setTimeout(e,u)},h=function(t,e,i){e=[].concat(e);for(var n=e.length;n--;){var r=t["on"+e[n]];if("function"==typeof r)try{r.call(t,i||t)}catch(t){s(t)}}},p=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},d=function(e,s,u){u||(e=p(e));var d,f=this,g=e.type,m=g===l,v=function(){h(f,"writestart progress write writeend".split(" "))},b=function(){if(m&&o&&t.FileReader){var n=new FileReader;return n.onloadend=function(){var e=n.result;t.location.href="data:attachment/file"+e.slice(e.search(/[,;]/)),f.readyState=f.DONE,v()},n.readAsDataURL(e),void(f.readyState=f.INIT)}if(d||(d=i().createObjectURL(e)),m)t.location.href=d;else{var r=t.open(d,"_blank");r||(t.location.href=d)}f.readyState=f.DONE,v(),c(d)};return f.readyState=f.INIT,r?(d=i().createObjectURL(e),void setTimeout(function(){n.href=d,n.download=s,a(n),v(),c(d),f.readyState=f.DONE})):void b()},f=d.prototype,g=function(t,e,i){return new d(t,e||t.name||"download",i)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=p(t)),navigator.msSaveOrOpenBlob(t,e)}:(f.abort=function(){},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define([],function(){return saveAs}),function(){"use strict";angular.module("http-auth-interceptor",["http-auth-interceptor-buffer"]).factory("authService",["$rootScope","httpBuffer",function(t,e){return{loginConfirmed:function(i,n){var r=n||function(t){return t};t.$broadcast("event:auth-loginConfirmed",i),e.retryAll(r)},loginCancelled:function(i,n){e.rejectAll(n),t.$broadcast("event:auth-loginCancelled",i)}}}]).config(["$httpProvider",function(t){t.interceptors.push(["$rootScope","$q","httpBuffer",function(t,e,i){return{responseError:function(n){if(401===n.status&&!n.config.ignoreAuthModule){var r=e.defer();return i.append(n.config,r),t.$broadcast("event:auth-loginRequired",n),r.promise}return e.reject(n)}}}])}]),angular.module("http-auth-interceptor-buffer",[]).factory("httpBuffer",["$injector",function(t){function e(e,n){function r(t){n.resolve(t)}function a(t){n.reject(t)}i=i||t.get("$http"),i(e).then(r,a)}var i,n=[];return{append:function(t,e){n.push({config:t,deferred:e})},rejectAll:function(t){if(t)for(var e=0;e<n.length;++e)n[e].deferred.reject(t);n=[]},retryAll:function(t){for(var i=0;i<n.length;++i)e(t(n[i].config),n[i].deferred);n=[]}}}])}(),function(t,e,i){!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)}(function(n){"use strict";var r,a,o,s,l,u,c,h,p,d,f,g,m,v,b,y,w,x,k,C,S,T,M,E,$,F,D,A,O,R,L,P,I={},N=0;r=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:i,normalRangeMax:i,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:i,chartRangeMax:i,chartRangeMinX:i,chartRangeMaxX:i,tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:i,nullColor:i,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,colorMap:i,tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:i,thresholdValue:0,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,tooltipFormat:new o("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:i,tooltipFormat:new o("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:i,targetColor:"#4a2",chartRangeMax:i,chartRangeMin:i,tooltipFormat:new o("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},F='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',a=function(){var t,e;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=n.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&(e=Array.prototype.slice.call(arguments,1,-1),e.unshift(t.prototype),n.extend.apply(n,e))):t.prototype=arguments[0],t.prototype.cls=t,t},n.SPFormatClass=o=a({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,n){var r,a,o,s,l,u=this,c=t;return this.format.replace(this.fre,function(){var t;return a=arguments[1],o=arguments[3],r=u.precre.exec(a),r?(l=r[2],a=r[1]):l=!1,s=c[a],s===i?"":o&&e&&e[o]?(t=e[o],t.get?e[o].get(s)||s:e[o][s]||s):(p(s)&&(s=n.get("numberFormatter")?n.get("numberFormatter")(s):v(s,l,n.get("numberDigitGroupCount"),n.get("numberDigitGroupSep"),n.get("numberDecimalMark"))),s)})}}),n.spformat=function(t,e){return new o(t,e)},s=function(t,e,i){return t<e?e:t>i?i:t},l=function(t,i){var n;return 2===i?(n=e.floor(t.length/2),t.length%2?t[n]:(t[n-1]+t[n])/2):t.length%2?(n=(t.length*i+i)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1]):(n=(t.length*i+2)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1])},u=function(t){var e;switch(t){case"undefined":t=i;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:e=parseFloat(t),t==e&&(t=e)}return t},c=function(t){var e,i=[];for(e=t.length;e--;)i[e]=u(t[e]);return i},h=function(t,e){var i,n,r=[];for(i=0,n=t.length;i<n;i++)t[i]!==e&&r.push(t[i]);return r},p=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},v=function(t,e,i,r,a){var o,s;for(t=(e===!1?parseFloat(t).toString():t.toFixed(e)).split(""),o=(o=n.inArray(".",t))<0?t.length:o,o<t.length&&(t[o]=a),s=o-i;s>0;s-=i)t.splice(s,0,r);return t.join("")},d=function(t,e,i){var n;for(n=e.length;n--;)if((!i||null!==e[n])&&e[n]!==t)return!1;return!0},f=function(t){var e,i=0;for(e=t.length;e--;)i+="number"==typeof t[e]?t[e]:0;return i},m=function(t){return n.isArray(t)?t:[t]},g=function(e){var i;t.createStyleSheet?t.createStyleSheet().cssText=e:(i=t.createElement("style"),i.type="text/css",t.getElementsByTagName("head")[0].appendChild(i),i["string"==typeof t.body.style.WebkitAppearance?"innerText":"innerHTML"]=e)},n.fn.simpledraw=function(e,r,a,o){var s,l;if(a&&(s=this.data("_jqs_vcanvas")))return s;if(n.fn.sparkline.canvas===!1)return!1;if(n.fn.sparkline.canvas===i){var u=t.createElement("canvas");if(u.getContext&&u.getContext("2d"))n.fn.sparkline.canvas=function(t,e,i,n){return new R(t,e,i,n)};else{if(!t.namespaces||t.namespaces.v)return n.fn.sparkline.canvas=!1,!1;t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),n.fn.sparkline.canvas=function(t,e,i,n){return new L(t,e,i)}}}return e===i&&(e=n(this).innerWidth()),r===i&&(r=n(this).innerHeight()),s=n.fn.sparkline.canvas(e,r,this,o),l=n(this).data("_jqs_mhandler"),l&&l.registerCanvas(s),s},n.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},n.RangeMapClass=b=a({init:function(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&e.indexOf(":")>-1&&(i=e.split(":"),i[0]=0===i[0].length?-(1/0):parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=t[e],n.push(i));this.map=t,this.rangelist=n||!1},get:function(t){var e,n,r,a=this.rangelist;if((r=this.map[t])!==i)return r;if(a)for(e=a.length;e--;)if(n=a[e],n[0]<=t&&n[1]>=t)return n[2];return i}}),n.range_map=function(t){return new b(t)},y=a({init:function(t,e){var i=n(t);this.$el=i,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=n(t.canvas);this.canvas=t,this.$canvas=e,e.mouseenter(n.proxy(this.mouseenter,this)),e.mouseleave(n.proxy(this.mouseleave,this)),e.click(n.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=i)},mouseclick:function(t){var e=n.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(e){n(t.body).unbind("mousemove.jqs"),n(t.body).bind("mousemove.jqs",n.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new w(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){n(t.body).unbind("mousemove.jqs");var e,i,r=this.splist,a=r.length,o=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),i=0;i<a;i++)e=r[i],e.clearRegionHighlight()&&(o=!0);o&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,e,i,r,a,o=this.splist,s=o.length,l=!1,u=this.$canvas.offset(),c=this.currentPageX-u.left,h=this.currentPageY-u.top;if(this.over){for(i=0;i<s;i++)e=o[i],r=e.setRegionHighlight(this.currentEl,c,h),r&&(l=!0);if(l){if(a=n.Event("sparklineRegionChange"),a.sparklines=this.splist,this.$el.trigger(a),this.tooltip){for(t="",i=0;i<s;i++)e=o[i],t+=e.getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===r&&this.mouseleave()}}}),w=a({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var i,r=e.get("tooltipClassname","jqstooltip"),a=this.sizeStyle;this.container=e.get("tooltipContainer")||t.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),n("#jqssizetip").remove(),n("#jqstooltip").remove(),this.sizetip=n("<div/>",{id:"jqssizetip",style:a,
class:r}),this.tooltip=n("<div/>",{id:"jqstooltip",class:r}).appendTo(this.container),i=this.tooltip.offset(),this.offsetLeft=i.left,this.offsetTop=i.top,this.hidden=!0,n(window).unbind("resize.jqs scroll.jqs"),n(window).bind("resize.jqs scroll.jqs",n.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=n(window).scrollTop(),this.scrollLeft=n(window).scrollLeft(),this.scrollRight=this.scrollLeft+n(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){return t?(this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),void(this.hidden&&(this.hidden=!1,this.updatePosition()))):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(t,e){if(t===i){if(this.mousex===i)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=i,n(window).unbind("resize.jqs scroll.jqs")}}),D=function(){g(F)},n(D),P=[],n.fn.sparkline=function(e,r){return this.each(function(){var a,o,s=new n.fn.sparkline.options(this,r),l=n(this);if(a=function(){var r,a,o,u,c,h,p;return"html"===e||e===i?(p=this.getAttribute(s.get("tagValuesAttribute")),p!==i&&null!==p||(p=l.html()),r=p.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):r=e,a="auto"===s.get("width")?r.length*s.get("defaultPixelsPerValue"):s.get("width"),"auto"===s.get("height")?s.get("composite")&&n.data(this,"_jqs_vcanvas")||(u=t.createElement("span"),u.innerHTML="a",l.html(u),o=n(u).innerHeight()||n(u).height(),n(u).remove(),u=null):o=s.get("height"),s.get("disableInteraction")?c=!1:(c=n.data(this,"_jqs_mhandler"),c?s.get("composite")||c.reset():(c=new y(this,s),n.data(this,"_jqs_mhandler",c))),s.get("composite")&&!n.data(this,"_jqs_vcanvas")?void(n.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),n.data(this,"_jqs_errnotify",!0))):(h=new(n.fn.sparkline[s.get("type")])(this,r,s,a,o),h.render(),void(c&&c.registerSparkline(h)))},n(this).html()&&!s.get("disableHiddenCheck")&&n(this).is(":hidden")||!n(this).parents("body").length){if(!s.get("composite")&&n.data(this,"_jqs_pending"))for(o=P.length;o;o--)P[o-1][0]==this&&P.splice(o-1,1);P.push([this,a]),n.data(this,"_jqs_pending",!0)}else a.call(this)})},n.fn.sparkline.defaults=r(),n.sparkline_display_visible=function(){var t,e,i,r=[];for(e=0,i=P.length;e<i;e++)t=P[e][0],n(t).is(":visible")&&!n(t).parents().is(":hidden")?(P[e][1].call(t),n.data(P[e][0],"_jqs_pending",!1),r.push(e)):n(t).closest("html").length||n.data(t,"_jqs_pending")||(n.data(P[e][0],"_jqs_pending",!1),r.push(e));for(e=r.length;e;e--)P.splice(r[e-1],1)},n.fn.sparkline.options=a({init:function(t,e){var i,r,a,o;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},r=n.fn.sparkline.defaults,a=r.common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||a.tagOptionsPrefix),o=this.getTagSetting("type"),i=o===I?r[e.type||a.type]:r[o],this.mergedOptions=n.extend({},a,i,e)},getTagSetting:function(t){var e,n,r,a,o=this.tagOptionsPrefix;if(o===!1||o===i)return I;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if(e=this.tag.getAttribute(o+t),e===i||null===e)e=I;else if("["===e.substr(0,1))for(e=e.substr(1,e.length-2).split(","),n=e.length;n--;)e[n]=u(e[n].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(r=e.substr(1,e.length-2).split(","),e={},n=r.length;n--;)a=r[n].split(":",2),e[a[0].replace(/(^\s*)|(\s*$)/g,"")]=u(a[1].replace(/(^\s*)|(\s*$)/g,""));else e=u(e);this.tagValCache.key=e}return e},get:function(t,e){var n,r=this.getTagSetting(t);return r!==I?r:(n=this.mergedOptions[t])===i?e:n}}),n.fn.sparkline._base=a({disabled:!1,init:function(t,e,r,a,o){this.el=t,this.$el=n(t),this.values=e,this.options=r,this.width=a,this.height=o,this.currentRegion=i},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(t,e){},setRegionHighlight:function(t,e,n){var r,a=this.currentRegion,o=!this.options.get("disableHighlight");return e>this.canvasWidth||n>this.canvasHeight||e<0||n<0?null:(r=this.getRegion(t,e,n),a!==r&&(a!==i&&o&&this.removeHighlight(),this.currentRegion=r,r!==i&&o&&this.renderHighlight(),!0))},clearRegionHighlight:function(){return this.currentRegion!==i&&(this.removeHighlight(),this.currentRegion=i,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var t,e,r,a,s,l,u,c,h,p,d,f,g,m,v=this.options,b="",y=[];if(this.currentRegion===i)return"";if(t=this.getCurrentRegionFields(),d=v.get("tooltipFormatter"))return d(this,v,t);if(v.get("tooltipChartTitle")&&(b+='<div class="jqs jqstitle">'+v.get("tooltipChartTitle")+"</div>\n"),e=this.options.get("tooltipFormat"),!e)return"";if(n.isArray(e)||(e=[e]),n.isArray(t)||(t=[t]),u=this.options.get("tooltipFormatFieldlist"),c=this.options.get("tooltipFormatFieldlistKey"),u&&c){for(h=[],l=t.length;l--;)p=t[l][c],(m=n.inArray(p,u))!=-1&&(h[m]=t[l]);t=h}for(r=e.length,g=t.length,l=0;l<r;l++)for(f=e[l],"string"==typeof f&&(f=new o(f)),a=f.fclass||"jqsfield",m=0;m<g;m++)t[m].isNull&&v.get("tooltipSkipNull")||(n.extend(t[m],{prefix:v.get("tooltipPrefix"),suffix:v.get("tooltipSuffix")}),s=f.render(t[m],v.get("tooltipValueLookups"),v),y.push('<div class="'+a+'">'+s+"</div>"));return y.length?b+y.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,i){var n,r,a,o,l=i.get("highlightColor"),u=i.get("highlightLighten");if(l)return l;if(u&&(n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(a=[],r=4===t.length?16:1,o=0;o<3;o++)a[o]=s(e.round(parseInt(n[o+1],16)*r*u),0,255);return"rgb("+a.join(",")+")"}return t}}),x={changeHighlight:function(t){var e,i=this.currentRegion,r=this.target,a=this.regionShapes[i];a&&(e=this.renderRegion(i,t),n.isArray(e)||n.isArray(a)?(r.replaceWithShapes(a,e),this.regionShapes[i]=n.map(e,function(t){return t.id})):(r.replaceWithShape(a,e),this.regionShapes[i]=e.id))},render:function(){var t,e,i,r,a=this.values,o=this.target,s=this.regionShapes;if(this.cls._super.render.call(this)){for(i=a.length;i--;)if(t=this.renderRegion(i))if(n.isArray(t)){for(e=[],r=t.length;r--;)t[r].append(),e.push(t[r].id);s[i]=e}else t.append(),s[i]=t.id;else s[i]=null;o.render()}}},n.fn.sparkline.line=k=a(n.fn.sparkline._base,{type:"line",init:function(t,e,i,n,r){k._super.init.call(this,t,e,i,n,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,n){var r,a=this.regionMap;for(r=a.length;r--;)if(null!==a[r]&&e>=a[r][0]&&e<=a[r][1])return a[r][2];return i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,n=this.currentRegion,r=this.target,a=this.vertices[n],o=this.options,s=o.get("spotRadius"),l=o.get("highlightSpotColor"),u=o.get("highlightLineColor");a&&(s&&l&&(t=r.drawCircle(a[0],a[1],s,i,l),this.highlightSpotId=t.id,r.insertAfterShape(this.lastShapeId,t)),u&&(e=r.drawLine(a[0],this.canvasTop,a[0],this.canvasTop+this.canvasHeight,u),this.highlightLineId=e.id,r.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,i,n,r,a,o=this.values,s=o.length,l=this.xvalues,u=this.yvalues,c=this.yminmax;for(t=0;t<s;t++)i=o[t],n="string"==typeof o[t],r="object"==typeof o[t]&&o[t]instanceof Array,a=n&&o[t].split(":"),n&&2===a.length?(l.push(Number(a[0])),u.push(Number(a[1])),c.push(Number(a[1]))):r?(l.push(i[0]),u.push(i[1]),c.push(i[1])):(l.push(t),null===o[t]||"null"===o[t]?u.push(null):(u.push(Number(i)),c.push(Number(i))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=e.max.apply(e,c),this.miny=this.minyorg=e.min.apply(e,c),this.maxx=e.max.apply(e,l),this.minx=e.min.apply(e,l),this.xvalues=l,this.yvalues=u,this.yminmax=c},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),n=t.get("normalRangeMax");e!==i&&(e<this.miny&&(this.miny=e),n>this.maxy&&(this.maxy=n)),t.get("chartRangeMin")!==i&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==i&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==i&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==i&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,n,r,a,o){var s=this.options.get("normalRangeMin"),l=this.options.get("normalRangeMax"),u=n+e.round(r-r*((l-this.miny)/o)),c=e.round(r*(l-s)/o);this.target.drawRect(t,u,a,c,i,this.options.get("normalRangeColor")).append()},render:function(){var t,r,a,o,s,l,u,c,h,p,d,f,g,m,v,y,w,x,C,S,T,M,E,$,F,D=this.options,A=this.target,O=this.canvasWidth,R=this.canvasHeight,L=this.vertices,P=D.get("spotRadius"),I=this.regionMap;if(k._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),E=this.xvalues,$=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(o=s=0,t=this.maxx-this.minx===0?1:this.maxx-this.minx,r=this.maxy-this.miny===0?1:this.maxy-this.miny,a=this.yvalues.length-1,P&&(O<4*P||R<4*P)&&(P=0),P&&(T=D.get("highlightSpotColor")&&!D.get("disableInteraction"),(T||D.get("minSpotColor")||D.get("spotColor")&&$[a]===this.miny)&&(R-=e.ceil(P)),(T||D.get("maxSpotColor")||D.get("spotColor")&&$[a]===this.maxy)&&(R-=e.ceil(P),o+=e.ceil(P)),(T||(D.get("minSpotColor")||D.get("maxSpotColor"))&&($[0]===this.miny||$[0]===this.maxy))&&(s+=e.ceil(P),O-=e.ceil(P)),(T||D.get("spotColor")||D.get("minSpotColor")||D.get("maxSpotColor")&&($[a]===this.miny||$[a]===this.maxy))&&(O-=e.ceil(P))),R--,D.get("normalRangeMin")===i||D.get("drawNormalOnTop")||this.drawNormalRange(s,o,R,O,r),u=[],c=[u],m=v=null,y=$.length,F=0;F<y;F++)h=E[F],d=E[F+1],p=$[F],f=s+e.round((h-this.minx)*(O/t)),g=F<y-1?s+e.round((d-this.minx)*(O/t)):O,v=f+(g-f)/2,I[F]=[m||0,v,F],m=v,null===p?F&&(null!==$[F-1]&&(u=[],c.push(u)),L.push(null)):(p<this.miny&&(p=this.miny),p>this.maxy&&(p=this.maxy),u.length||u.push([f,o+R]),l=[f,o+e.round(R-R*((p-this.miny)/r))],u.push(l),L.push(l));for(w=[],x=[],C=c.length,F=0;F<C;F++)u=c[F],u.length&&(D.get("fillColor")&&(u.push([u[u.length-1][0],o+R]),x.push(u.slice(0)),u.pop()),u.length>2&&(u[0]=[u[0][0],u[1][1]]),w.push(u));for(C=x.length,F=0;F<C;F++)A.drawShape(x[F],D.get("fillColor"),D.get("fillColor")).append();for(D.get("normalRangeMin")!==i&&D.get("drawNormalOnTop")&&this.drawNormalRange(s,o,R,O,r),C=w.length,F=0;F<C;F++)A.drawShape(w[F],D.get("lineColor"),i,D.get("lineWidth")).append();if(P&&D.get("valueSpots"))for(S=D.get("valueSpots"),S.get===i&&(S=new b(S)),F=0;F<y;F++)M=S.get($[F]),M&&A.drawCircle(s+e.round((E[F]-this.minx)*(O/t)),o+e.round(R-R*(($[F]-this.miny)/r)),P,i,M).append();P&&D.get("spotColor")&&null!==$[a]&&A.drawCircle(s+e.round((E[E.length-1]-this.minx)*(O/t)),o+e.round(R-R*(($[a]-this.miny)/r)),P,i,D.get("spotColor")).append(),this.maxy!==this.minyorg&&(P&&D.get("minSpotColor")&&(h=E[n.inArray(this.minyorg,$)],A.drawCircle(s+e.round((h-this.minx)*(O/t)),o+e.round(R-R*((this.minyorg-this.miny)/r)),P,i,D.get("minSpotColor")).append()),P&&D.get("maxSpotColor")&&(h=E[n.inArray(this.maxyorg,$)],A.drawCircle(s+e.round((h-this.minx)*(O/t)),o+e.round(R-R*((this.maxyorg-this.miny)/r)),P,i,D.get("maxSpotColor")).append())),this.lastShapeId=A.getLastShapeId(),this.canvasTop=o,A.render()}}}),n.fn.sparkline.bar=C=a(n.fn.sparkline._base,x,{type:"bar",init:function(t,r,a,o,l){var p,d,f,g,m,v,y,w,x,k,S,T,M,E,$,F,D,A,O,R,L,P,I=parseInt(a.get("barWidth"),10),N=parseInt(a.get("barSpacing"),10),H=a.get("chartRangeMin"),z=a.get("chartRangeMax"),_=a.get("chartRangeClip"),W=1/0,B=-(1/0);for(C._super.init.call(this,t,r,a,o,l),v=0,y=r.length;v<y;v++)R=r[v],p="string"==typeof R&&R.indexOf(":")>-1,(p||n.isArray(R))&&($=!0,p&&(R=r[v]=c(R.split(":"))),R=h(R,null),d=e.min.apply(e,R),f=e.max.apply(e,R),d<W&&(W=d),f>B&&(B=f));this.stacked=$,this.regionShapes={},this.barWidth=I,this.barSpacing=N,this.totalBarWidth=I+N,this.width=o=r.length*I+(r.length-1)*N,this.initTarget(),_&&(M=H===i?-(1/0):H,E=z===i?1/0:z),m=[],g=$?[]:m;var U=[],j=[];for(v=0,y=r.length;v<y;v++)if($)for(F=r[v],r[v]=O=[],U[v]=0,g[v]=j[v]=0,D=0,A=F.length;D<A;D++)R=O[D]=_?s(F[D],M,E):F[D],null!==R&&(R>0&&(U[v]+=R),W<0&&B>0?R<0?j[v]+=e.abs(R):g[v]+=R:g[v]+=e.abs(R-(R<0?B:W)),m.push(R));else R=_?s(r[v],M,E):r[v],R=r[v]=u(R),null!==R&&m.push(R);this.max=T=e.max.apply(e,m),this.min=S=e.min.apply(e,m),this.stackMax=B=$?e.max.apply(e,U):T,this.stackMin=W=$?e.min.apply(e,m):S,a.get("chartRangeMin")!==i&&(a.get("chartRangeClip")||a.get("chartRangeMin")<S)&&(S=a.get("chartRangeMin")),a.get("chartRangeMax")!==i&&(a.get("chartRangeClip")||a.get("chartRangeMax")>T)&&(T=a.get("chartRangeMax")),this.zeroAxis=x=a.get("zeroAxis",!0),k=S<=0&&T>=0&&x?0:0==x?S:S>0?S:T,this.xaxisOffset=k,w=$?e.max.apply(e,g)+e.max.apply(e,j):T-S,this.canvasHeightEf=x&&S<0?this.canvasHeight-2:this.canvasHeight-1,S<k?(P=$&&T>=0?B:T,L=(P-k)/w*this.canvasHeight,L!==e.ceil(L)&&(this.canvasHeightEf-=2,L=e.ceil(L))):L=this.canvasHeight,this.yoffset=L,n.isArray(a.get("colorMap"))?(this.colorMapByIndex=a.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=a.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new b(this.colorMapByValue))),this.range=w},getRegion:function(t,n,r){var a=e.floor(n/this.totalBarWidth);return a<0||a>=this.values.length?i:a},getCurrentRegionFields:function(){var t,e,i=this.currentRegion,n=m(this.values[i]),r=[];for(e=n.length;e--;)t=n[e],r.push({isNull:null===t,value:t,color:this.calcColor(e,t,i),offset:i});return r},calcColor:function(t,e,r){var a,o,s=this.colorMapByIndex,l=this.colorMapByValue,u=this.options;return a=this.stacked?u.get("stackedBarColor"):e<0?u.get("negBarColor"):u.get("barColor"),0===e&&u.get("zeroColor")!==i&&(a=u.get("zeroColor")),l&&(o=l.get(e))?a=o:s&&s.length>r&&(a=s[r]),n.isArray(a)?a[t%a.length]:a},renderRegion:function(t,r){var a,o,s,l,u,c,h,p,f,g,m=this.values[t],v=this.options,b=this.xaxisOffset,y=[],w=this.range,x=this.stacked,k=this.target,C=t*this.totalBarWidth,S=this.canvasHeightEf,T=this.yoffset;if(m=n.isArray(m)?m:[m],h=m.length,p=m[0],l=d(null,m),g=d(b,m,!0),l)return v.get("nullColor")?(s=r?v.get("nullColor"):this.calcHighlightColor(v.get("nullColor"),v),a=T>0?T-1:T,k.drawRect(C,a,this.barWidth-1,0,s,s)):i;for(u=T,c=0;c<h;c++){if(p=m[c],x&&p===b){if(!g||f)continue;f=!0}o=w>0?e.floor(S*(e.abs(p-b)/w))+1:1,p<b||p===b&&0===T?(a=u,u+=o):(a=T-o,T-=o),s=this.calcColor(c,p,t),r&&(s=this.calcHighlightColor(s,v)),y.push(k.drawRect(C,a,this.barWidth-1,o-1,s,s))}return 1===y.length?y[0]:y}}),n.fn.sparkline.tristate=S=a(n.fn.sparkline._base,x,{type:"tristate",init:function(t,e,r,a,o){var s=parseInt(r.get("barWidth"),10),l=parseInt(r.get("barSpacing"),10);S._super.init.call(this,t,e,r,a,o),this.regionShapes={},this.barWidth=s,this.barSpacing=l,this.totalBarWidth=s+l,this.values=n.map(e,Number),this.width=a=e.length*s+(e.length-1)*l,n.isArray(r.get("colorMap"))?(this.colorMapByIndex=r.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=r.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new b(this.colorMapByValue))),this.initTarget()},getRegion:function(t,i,n){return e.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i,n,r=this.values,a=this.options,o=this.colorMapByIndex,s=this.colorMapByValue;return i=s&&(n=s.get(t))?n:o&&o.length>e?o[e]:r[e]<0?a.get("negBarColor"):r[e]>0?a.get("posBarColor"):a.get("zeroBarColor")},renderRegion:function(t,i){var n,r,a,o,s,l,u=this.values,c=this.options,h=this.target;if(n=h.pixelHeight,a=e.round(n/2),o=t*this.totalBarWidth,u[t]<0?(s=a,r=a-1):u[t]>0?(s=0,r=a-1):(s=a-1,r=2),l=this.calcColor(u[t],t),null!==l)return i&&(l=this.calcHighlightColor(l,c)),h.drawRect(o,s,this.barWidth-1,r-1,l,l)}}),n.fn.sparkline.discrete=T=a(n.fn.sparkline._base,x,{type:"discrete",init:function(t,r,a,o,s){T._super.init.call(this,t,r,a,o,s),this.regionShapes={},this.values=r=n.map(r,Number),this.min=e.min.apply(e,r),this.max=e.max.apply(e,r),this.range=this.max-this.min,this.width=o="auto"===a.get("width")?2*r.length:this.width,this.interval=e.floor(o/r.length),this.itemWidth=o/r.length,a.get("chartRangeMin")!==i&&(a.get("chartRangeClip")||a.get("chartRangeMin")<this.min)&&(this.min=a.get("chartRangeMin")),a.get("chartRangeMax")!==i&&(a.get("chartRangeClip")||a.get("chartRangeMax")>this.max)&&(this.max=a.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===a.get("lineHeight")?e.round(.3*this.canvasHeight):a.get("lineHeight"))},getRegion:function(t,i,n){return e.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],offset:t}},renderRegion:function(t,i){var n,r,a,o,l=this.values,u=this.options,c=this.min,h=this.max,p=this.range,d=this.interval,f=this.target,g=this.canvasHeight,m=this.lineHeight,v=g-m;return r=s(l[t],c,h),o=t*d,n=e.round(v-v*((r-c)/p)),a=u.get("thresholdColor")&&r<u.get("thresholdValue")?u.get("thresholdColor"):u.get("lineColor"),i&&(a=this.calcHighlightColor(a,u)),f.drawLine(o,n,o,n+m,a)}}),n.fn.sparkline.bullet=M=a(n.fn.sparkline._base,{type:"bullet",init:function(t,n,r,a,o){var s,l,u;M._super.init.call(this,t,n,r,a,o),this.values=n=c(n),u=n.slice(),u[0]=null===u[0]?u[2]:u[0],u[1]=null===n[1]?u[2]:u[1],s=e.min.apply(e,n),l=e.max.apply(e,n),s=r.get("base")===i?s<0?s:0:r.get("base"),this.min=s,this.max=l,this.range=l-s,this.shapes={},this.valueShapes={},this.regiondata={},this.width=a="auto"===r.get("width")?"4.0em":a,this.target=this.$el.simpledraw(a,o,r.get("composite")),n.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,n){var r=this.target.getShapeAt(t,e,n);return r!==i&&this.shapes[r]!==i?this.shapes[r]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,i=this.currentRegion,n=this.valueShapes[i];switch(delete this.shapes[n],i.substr(0,1)){case"r":e=this.renderRange(i.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[i]=e.id,this.shapes[e.id]=i,this.target.replaceWithShape(n,e)},renderRange:function(t,i){var n=this.values[t],r=e.round(this.canvasWidth*((n-this.min)/this.range)),a=this.options.get("rangeColors")[t-2];return i&&(a=this.calcHighlightColor(a,this.options)),this.target.drawRect(0,0,r-1,this.canvasHeight-1,a,a)},renderPerformance:function(t){var i=this.values[1],n=e.round(this.canvasWidth*((i-this.min)/this.range)),r=this.options.get("performanceColor");return t&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,e.round(.3*this.canvasHeight),n-1,e.round(.4*this.canvasHeight)-1,r,r)},renderTarget:function(t){var i=this.values[0],n=e.round(this.canvasWidth*((i-this.min)/this.range)-this.options.get("targetWidth")/2),r=e.round(.1*this.canvasHeight),a=this.canvasHeight-2*r,o=this.options.get("targetColor");return t&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(n,r,this.options.get("targetWidth")-1,a-1,o,o)},render:function(){var t,e,i=this.values.length,n=this.target;if(M._super.render.call(this)){for(t=2;t<i;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),n.render()}}}),n.fn.sparkline.pie=E=a(n.fn.sparkline._base,{type:"pie",init:function(t,i,r,a,o){var s,l=0;if(E._super.init.call(this,t,i,r,a,o),this.shapes={},this.valueShapes={},this.values=i=n.map(i,Number),"auto"===r.get("width")&&(this.width=this.height),i.length>0)for(s=i.length;s--;)l+=i[s];this.total=l,this.initTarget(),this.radius=e.floor(e.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,n){var r=this.target.getShapeAt(t,e,n);return r!==i&&this.shapes[r]!==i?this.shapes[r]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),n=this.valueShapes[e];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,n){var r,a,o,s,l,u=this.target,c=this.options,h=this.radius,p=c.get("borderWidth"),d=c.get("offset"),f=2*e.PI,g=this.values,m=this.total,v=d?2*e.PI*(d/360):0;for(s=g.length,o=0;o<s;o++){if(r=v,a=v,m>0&&(a=v+f*(g[o]/m)),t===o)return l=c.get("sliceColors")[o%c.get("sliceColors").length],n&&(l=this.calcHighlightColor(l,c)),u.drawPieSlice(h,h,h-p,r,a,i,l);v=a}},render:function(){var t,n,r=this.target,a=this.values,o=this.options,s=this.radius,l=o.get("borderWidth");if(E._super.render.call(this)){for(l&&r.drawCircle(s,s,e.floor(s-l/2),o.get("borderColor"),i,l).append(),n=a.length;n--;)a[n]&&(t=this.renderSlice(n).append(),this.valueShapes[n]=t.id,this.shapes[t.id]=n);r.render()}}}),n.fn.sparkline.box=$=a(n.fn.sparkline._base,{type:"box",init:function(t,e,i,r,a){$._super.init.call(this,t,e,i,r,a),this.values=n.map(e,Number),this.width="auto"===i.get("width")?"4.0em":r,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==i&&t.push({field:"lo",value:this.loutlier}),this.routlier!==i&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==i&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==i&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,n,r,a,o,s,u,c,h,p,d,f=this.target,g=this.values,m=g.length,v=this.options,b=this.canvasWidth,y=this.canvasHeight,w=v.get("chartRangeMin")===i?e.min.apply(e,g):v.get("chartRangeMin"),x=v.get("chartRangeMax")===i?e.max.apply(e,g):v.get("chartRangeMax"),k=0;if($._super.render.call(this)){if(v.get("raw"))v.get("showOutliers")&&g.length>5?(n=g[0],t=g[1],a=g[2],o=g[3],s=g[4],u=g[5],c=g[6]):(t=g[0],a=g[1],o=g[2],s=g[3],u=g[4]);else if(g.sort(function(t,e){return t-e}),a=l(g,1),o=l(g,2),s=l(g,3),r=s-a,v.get("showOutliers")){for(t=u=i,h=0;h<m;h++)t===i&&g[h]>a-r*v.get("outlierIQR")&&(t=g[h]),g[h]<s+r*v.get("outlierIQR")&&(u=g[h]);n=g[0],c=g[m-1]}else t=g[0],u=g[m-1];this.quartiles=[a,o,s],this.lwhisker=t,this.rwhisker=u,this.loutlier=n,this.routlier=c,d=b/(x-w+1),v.get("showOutliers")&&(k=e.ceil(v.get("spotRadius")),b-=2*e.ceil(v.get("spotRadius")),d=b/(x-w+1),n<t&&f.drawCircle((n-w)*d+k,y/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append(),c>u&&f.drawCircle((c-w)*d+k,y/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append()),f.drawRect(e.round((a-w)*d+k),e.round(.1*y),e.round((s-a)*d),e.round(.8*y),v.get("boxLineColor"),v.get("boxFillColor")).append(),f.drawLine(e.round((t-w)*d+k),e.round(y/2),e.round((a-w)*d+k),e.round(y/2),v.get("lineColor")).append(),f.drawLine(e.round((t-w)*d+k),e.round(y/4),e.round((t-w)*d+k),e.round(y-y/4),v.get("whiskerColor")).append(),f.drawLine(e.round((u-w)*d+k),e.round(y/2),e.round((s-w)*d+k),e.round(y/2),v.get("lineColor")).append(),f.drawLine(e.round((u-w)*d+k),e.round(y/4),e.round((u-w)*d+k),e.round(y-y/4),v.get("whiskerColor")).append(),f.drawLine(e.round((o-w)*d+k),e.round(.1*y),e.round((o-w)*d+k),e.round(.9*y),v.get("medianColor")).append(),v.get("target")&&(p=e.ceil(v.get("spotRadius")),f.drawLine(e.round((v.get("target")-w)*d+k),e.round(y/2-p),e.round((v.get("target")-w)*d+k),e.round(y/2+p),v.get("targetColor")).append(),f.drawLine(e.round((v.get("target")-w)*d+k-p),e.round(y/2),e.round((v.get("target")-w)*d+k+p),e.round(y/2),v.get("targetColor")).append()),f.render()}}}),A=a({init:function(t,e,i,n){this.target=t,this.id=e,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),O=a({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,i){t&&(this.width=t,this.height=e,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),n.data(i,"_jqs_vcanvas",this))},drawLine:function(t,e,i,n,r,a){return this.drawShape([[t,e],[i,n]],r,a)},drawShape:function(t,e,i,n){return this._genShape("Shape",[t,e,i,n])},drawCircle:function(t,e,i,n,r,a){return this._genShape("Circle",[t,e,i,n,r,a])},drawPieSlice:function(t,e,i,n,r,a,o){return this._genShape("PieSlice",[t,e,i,n,r,a,o])},drawRect:function(t,e,i,n,r,a){return this._genShape("Rect",[t,e,i,n,r,a])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){n(e).html(t)},_calculatePixelDims:function(t,e,i){var r;r=this._pxregex.exec(e),r?this.pixelHeight=r[1]:this.pixelHeight=n(i).height(),r=this._pxregex.exec(t),r?this.pixelWidth=r[1]:this.pixelWidth=n(i).width()},_genShape:function(t,e){var i=N++;return e.unshift(i),new A(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),R=a(O,{init:function(e,r,a,o){R._super.init.call(this,e,r,a),this.canvas=t.createElement("canvas"),a[0]&&(a=a[0]),n.data(a,"_jqs_vcanvas",this),n(this.canvas).css({display:"inline-block",width:e,height:r,verticalAlign:"top"}),this._insert(this.canvas,a),this._calculatePixelDims(e,r,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=o,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i,n(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,n){var r=this.canvas.getContext("2d");return t!==i&&(r.strokeStyle=t),r.lineWidth=n===i?1:n,e!==i&&(r.fillStyle=e),r},reset:function(){var t=this._getContext();t.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i},_drawShape:function(t,e,n,r,a){var o,s,l=this._getContext(n,r,a);for(l.beginPath(),l.moveTo(e[0][0]+.5,e[0][1]+.5),o=1,s=e.length;o<s;o++)l.lineTo(e[o][0]+.5,e[o][1]+.5);n!==i&&l.stroke(),r!==i&&l.fill(),this.targetX!==i&&this.targetY!==i&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,n,r,a,o,s,l){var u=this._getContext(o,s,l);u.beginPath(),u.arc(n,r,a,0,2*e.PI,!1),this.targetX!==i&&this.targetY!==i&&u.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),o!==i&&u.stroke(),s!==i&&u.fill()},_drawPieSlice:function(t,e,n,r,a,o,s,l){var u=this._getContext(s,l);u.beginPath(),u.moveTo(e,n),u.arc(e,n,r,a,o,!1),u.lineTo(e,n),u.closePath(),s!==i&&u.stroke(),l&&u.fill(),this.targetX!==i&&this.targetY!==i&&u.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,n,r,a,o){return this._drawShape(t,[[e,i],[e+n,i],[e+n,i+r],[e,i+r],[e,i]],a,o)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i,n=this.shapeseq;for(this.shapes[e.id]=e,i=n.length;i--;)n[i]==t&&(n[i]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i,n,r,a=this.shapeseq,o={};for(n=t.length;n--;)o[t[n]]=!0;for(n=a.length;n--;)i=a[n],o[i]&&(a.splice(n,1),delete this.shapes[i],r=n);for(n=e.length;n--;)a.splice(r,0,e[n].id),this.shapes[e[n].id]=e[n]},insertAfterShape:function(t,e){var i,n=this.shapeseq;for(i=n.length;i--;)if(n[i]===t)return n.splice(i+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,i=this.shapeseq;for(e=i.length;e--;)if(i[e]===t){i.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t,e,i,n=this.shapeseq,r=this.shapes,a=n.length,o=this._getContext();for(o.clearRect(0,0,this.pixelWidth,this.pixelHeight),i=0;i<a;i++)t=n[i],e=r[t],this["_draw"+e.type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),L=a(O,{init:function(e,i,r){var a;L._super.init.call(this,e,i,r),r[0]&&(r=r[0]),n.data(r,"_jqs_vcanvas",this),this.canvas=t.createElement("span"),n(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,r),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,a='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",a),this.group=n(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,n,r,a){var o,s,l,u,c,h,p,d=[];for(p=0,h=e.length;p<h;p++)d[p]=""+e[p][0]+","+e[p][1];return o=d.splice(0,1),a=a===i?1:a,s=n===i?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+n+'" ',l=r===i?' filled="false"':' fillColor="'+r+'" filled="true" ',u=d[0]===d[d.length-1]?"x ":"",c='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+s+l+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+o+" l "+d.join(", ")+" "+u+'e"> </v:shape>'},_drawCircle:function(t,e,n,r,a,o,s){var l,u,c;return e-=r,n-=r,l=a===i?' stroked="false" ':' strokeWeight="'+s+'px" strokeColor="'+a+'" ',u=o===i?' filled="false"':' fillColor="'+o+'" filled="true" ',c='<v:oval  id="jqsshape'+t+'" '+l+u+' style="position:absolute;top:'+n+"px; left:"+e+"px; width:"+2*r+"px; height:"+2*r+'px"></v:oval>'},_drawPieSlice:function(t,n,r,a,o,s,l,u){var c,h,p,d,f,g,m,v;if(o===s)return"";if(s-o===2*e.PI&&(o=0,s=2*e.PI),h=n+e.round(e.cos(o)*a),p=r+e.round(e.sin(o)*a),d=n+e.round(e.cos(s)*a),f=r+e.round(e.sin(s)*a),h===d&&p===f){if(s-o<e.PI)return"";
h=d=n+a,p=f=r}return h===d&&p===f&&s-o<e.PI?"":(c=[n-a,r-a,n+a,r+a,h,p,d,f],g=l===i?' stroked="false" ':' strokeWeight="1px" strokeColor="'+l+'" ',m=u===i?' filled="false"':' fillColor="'+u+'" filled="true" ',v='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+g+m+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+n+","+r+" wa "+c.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,i,n,r,a,o){return this._drawShape(t,[[e,i],[e,i+r],[e+n,i+r],[e+n,i],[e,i]],a,o)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=n("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);i[0].outerHTML=r},replaceWithShapes:function(t,e){var i,r=n("#jqsshape"+t[0]),a="",o=e.length;for(i=0;i<o;i++)a+=this["_draw"+e[i].type].apply(this,e[i].args);for(r[0].outerHTML=a,i=1;i<t.length;i++)n("#jqsshape"+t[i]).remove()},insertAfterShape:function(t,e){var i=n("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);i[0].insertAdjacentHTML("afterEnd",r)},removeShapeId:function(t){var e=n("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t,e,i){var n=t.id.substr(8);return n},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(t){var e=["$q","$cacheFactory","$timeout","$rootScope","cfpLoadingBar",function(e,i,n,r,a){function o(){n.cancel(l),a.complete(),c=0,u=0}function s(e){var n,r=i.get("$http"),a=t.defaults;!e.cache&&!a.cache||e.cache===!1||"GET"!==e.method&&"JSONP"!==e.method||(n=angular.isObject(e.cache)?e.cache:angular.isObject(a.cache)?a.cache:r);var o=void 0!==n&&void 0!==n.get(e.url);return void 0!==e.cached&&o!==e.cached?e.cached:(e.cached=o,o)}var l,u=0,c=0,h=a.latencyThreshold;return{request:function(t){return t.ignoreLoadingBar||s(t)||(r.$broadcast("cfpLoadingBar:loading",{url:t.url}),0===u&&(l=n(function(){a.start()},h)),u++,a.set(c/u)),t},response:function(t){return t.config.ignoreLoadingBar||s(t.config)||(c++,r.$broadcast("cfpLoadingBar:loaded",{url:t.config.url}),c>=u?o():a.set(c/u)),t},responseError:function(t){return t.config.ignoreLoadingBar||s(t.config)||(c++,r.$broadcast("cfpLoadingBar:loaded",{url:t.config.url}),c>=u?o():a.set(c/u)),e.reject(t)}}}];t.interceptors.push(e)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(t,e,i,n){function r(){c||(c=t.get("$animate"));var r=e.find(d);i.cancel(p),v||(n.$broadcast("cfpLoadingBar:started"),v=!0,w&&c.enter(f,r),y&&c.enter(m,r),a(x))}function a(t){if(v){var e=100*t+"%";g.css("width",e),b=t,i.cancel(h),h=i(function(){o()},250)}}function o(){if(!(s()>=1)){var t=0,e=s();t=e>=0&&e<.25?(3*Math.random()+3)/100:e>=.25&&e<.65?3*Math.random()/100:e>=.65&&e<.9?2*Math.random()/100:e>=.9&&e<.99?.005:0;var i=s()+t;a(i)}}function s(){return b}function l(){b=0,v=!1}function u(){c||(c=t.get("$animate")),n.$broadcast("cfpLoadingBar:completed"),a(1),i.cancel(p),p=i(function(){var t=c.leave(f,l);t&&t.then&&t.then(l),c.leave(m)},500)}var c,h,p,d=this.parentSelector,f=angular.element('<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>'),g=f.find("div").eq(0),m=angular.element(this.spinnerTemplate),v=!1,b=0,y=this.includeSpinner,w=this.includeBar,x=this.startSize;return{start:r,set:a,status:s,inc:o,complete:u,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),function(t){function e(t,e,i){var n,r,a,o,d,f,g,m,v,b=0,y=[],w=0,x=!1,k=[],T=[],M=!1;if(i=i||{},n=i.encoding||"UTF8",v=i.numRounds||1,a=p(e,n),v!==parseInt(v,10)||1>v)throw Error("numRounds must a integer >= 1");if(0!==t.lastIndexOf("SHA-",0))throw Error("Chosen SHA variant is not supported");if(f=function(e,i){return S(e,i,t)},g=function(e,i,n,r){var a,o;if("SHA-224"!==t&&"SHA-256"!==t)throw Error("Unexpected error in SHA-2 implementation");for(a=(i+65>>>9<<4)+15,o=16;e.length<=a;)e.push(0);for(e[i>>>5]|=128<<24-i%32,i+=n,e[a]=4294967295&i,e[a-1]=i/4294967296|0,n=e.length,i=0;i<n;i+=o)r=S(e.slice(i,i+o),r,t);if("SHA-224"===t)e=[r[0],r[1],r[2],r[3],r[4],r[5],r[6]];else{if("SHA-256"!==t)throw Error("Unexpected error in SHA-2 implementation");e=r}return e},m=function(t){return t.slice()},"SHA-224"===t)d=512,o=224;else{if("SHA-256"!==t)throw Error("Chosen SHA variant is not supported");d=512,o=256}r=C(t),this.setHMACKey=function(e,i,a){var o;if(!0===x)throw Error("HMAC key already set");if(!0===M)throw Error("Cannot set HMAC key after calling update");if(n=(a||{}).encoding||"UTF8",i=p(i,n)(e),e=i.binLen,i=i.value,o=d>>>3,a=o/4-1,o<e/8){for(i=g(i,e,0,C(t));i.length<=a;)i.push(0);i[a]&=4294967040}else if(o>e/8){for(;i.length<=a;)i.push(0);i[a]&=4294967040}for(e=0;e<=a;e+=1)k[e]=909522486^i[e],T[e]=1549556828^i[e];r=f(k,r),b=d,x=!0},this.update=function(t){var e,i,n,o=0,s=d>>>5;for(e=a(t,y,w),t=e.binLen,i=e.value,e=t>>>5,n=0;n<e;n+=s)o+d<=t&&(r=f(i.slice(n,n+s),r),o+=d);b+=o,y=i.slice(o>>>5),w=t%d,M=!0},this.getHash=function(e,i){var n,a,p,d;if(!0===x)throw Error("Cannot call getHash after setting HMAC key");switch(p=h(i),e){case"HEX":n=function(t){return s(t,o,p)};break;case"B64":n=function(t){return l(t,o,p)};break;case"BYTES":n=function(t){return u(t,o)};break;case"ARRAYBUFFER":try{a=new ArrayBuffer(0)}catch(t){throw Error("ARRAYBUFFER not supported by this environment")}n=function(t){return c(t,o)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(d=g(y.slice(),w,b,m(r)),a=1;a<v;a+=1)d=g(d,o,0,C(t));return n(d)},this.getHMAC=function(e,i){var n,a,p,v;if(!1===x)throw Error("Cannot call getHMAC without first setting HMAC key");switch(p=h(i),e){case"HEX":n=function(t){return s(t,o,p)};break;case"B64":n=function(t){return l(t,o,p)};break;case"BYTES":n=function(t){return u(t,o)};break;case"ARRAYBUFFER":try{n=new ArrayBuffer(0)}catch(t){throw Error("ARRAYBUFFER not supported by this environment")}n=function(t){return c(t,o)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return a=g(y.slice(),w,b,m(r)),v=f(T,C(t)),v=g(a,o,d,v),n(v)}}function i(){}function n(t,e,i){var n,r,a,o,s,l=t.length;if(e=e||[0],i=i||0,s=i>>>3,0!==l%2)throw Error("String of HEX type must be in byte increments");for(n=0;n<l;n+=2){if(r=parseInt(t.substr(n,2),16),isNaN(r))throw Error("String of HEX type contains invalid characters");for(o=(n>>>1)+s,a=o>>>2;e.length<=a;)e.push(0);e[a]|=r<<8*(3-o%4)}return{value:e,binLen:4*l+i}}function r(t,e,i){var n,r,a,o,s=[],s=e||[0];for(i=i||0,r=i>>>3,n=0;n<t.length;n+=1)e=t.charCodeAt(n),o=n+r,a=o>>>2,s.length<=a&&s.push(0),s[a]|=e<<8*(3-o%4);return{value:s,binLen:8*t.length+i}}function a(t,e,i){var n,r,a,o,s,l,u=[],c=0,u=e||[0];if(i=i||0,e=i>>>3,-1===t.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(r=t.indexOf("="),t=t.replace(/\=/g,""),-1!==r&&r<t.length)throw Error("Invalid '=' found in base-64 string");for(r=0;r<t.length;r+=4){for(s=t.substr(r,4),a=o=0;a<s.length;a+=1)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(s[a]),o|=n<<18-6*a;for(a=0;a<s.length-1;a+=1){for(l=c+e,n=l>>>2;u.length<=n;)u.push(0);u[n]|=(o>>>16-8*a&255)<<8*(3-l%4),c+=1}}return{value:u,binLen:8*c+i}}function o(t,e,i){var n,r,a,o=[],o=e||[0];for(i=i||0,n=i>>>3,e=0;e<t.byteLength;e+=1)a=e+n,r=a>>>2,o.length<=r&&o.push(0),o[r]|=t[e]<<8*(3-a%4);return{value:o,binLen:8*t.byteLength+i}}function s(t,e,i){var n="";e/=8;var r,a;for(r=0;r<e;r+=1)a=t[r>>>2]>>>8*(3-r%4),n+="0123456789abcdef".charAt(a>>>4&15)+"0123456789abcdef".charAt(15&a);return i.outputUpper?n.toUpperCase():n}function l(t,e,i){var n,r,a,o="",s=e/8;for(n=0;n<s;n+=3)for(r=n+1<s?t[n+1>>>2]:0,a=n+2<s?t[n+2>>>2]:0,a=(t[n>>>2]>>>8*(3-n%4)&255)<<16|(r>>>8*(3-(n+1)%4)&255)<<8|a>>>8*(3-(n+2)%4)&255,r=0;4>r;r+=1)o+=8*n+6*r<=e?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>6*(3-r)&63):i.b64Pad;return o}function u(t,e){var i,n,r="",a=e/8;for(i=0;i<a;i+=1)n=t[i>>>2]>>>8*(3-i%4)&255,r+=String.fromCharCode(n);return r}function c(t,e){var i,n=e/8,r=new ArrayBuffer(n);for(i=0;i<n;i+=1)r[i]=t[i>>>2]>>>8*(3-i%4)&255;return r}function h(t){var e={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(t=t||{},e.outputUpper=t.outputUpper||!1,!0===t.hasOwnProperty("b64Pad")&&(e.b64Pad=t.b64Pad),"boolean"!=typeof e.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof e.b64Pad)throw Error("Invalid b64Pad formatting option");return e}function p(t,e){var i;switch(e){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(t){case"HEX":i=n;break;case"TEXT":i=function(t,i,n){var r,a,o,s,l,u=[],c=[],h=0,u=i||[0];if(i=n||0,o=i>>>3,"UTF8"===e)for(r=0;r<t.length;r+=1)for(n=t.charCodeAt(r),c=[],128>n?c.push(n):2048>n?(c.push(192|n>>>6),c.push(128|63&n)):55296>n||57344<=n?c.push(224|n>>>12,128|n>>>6&63,128|63&n):(r+=1,n=65536+((1023&n)<<10|1023&t.charCodeAt(r)),c.push(240|n>>>18,128|n>>>12&63,128|n>>>6&63,128|63&n)),a=0;a<c.length;a+=1){for(l=h+o,s=l>>>2;u.length<=s;)u.push(0);u[s]|=c[a]<<8*(3-l%4),h+=1}else if("UTF16BE"===e||"UTF16LE"===e)for(r=0;r<t.length;r+=1){for(n=t.charCodeAt(r),"UTF16LE"===e&&(a=255&n,n=a<<8|n>>>8),l=h+o,s=l>>>2;u.length<=s;)u.push(0);u[s]|=n<<8*(2-l%4),h+=2}return{value:u,binLen:8*h+i}};break;case"B64":i=a;break;case"BYTES":i=r;break;case"ARRAYBUFFER":try{i=new ArrayBuffer(0)}catch(t){throw Error("ARRAYBUFFER not supported by this environment")}i=o;break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return i}function d(t,e){return t>>>e|t<<32-e}function f(t,e,i){return t&e^~t&i}function g(t,e,i){return t&e^t&i^e&i}function m(t){return d(t,2)^d(t,13)^d(t,22)}function v(t){return d(t,6)^d(t,11)^d(t,25)}function b(t){return d(t,7)^d(t,18)^t>>>3}function y(t){return d(t,17)^d(t,19)^t>>>10}function w(t,e){var i=(65535&t)+(65535&e);return((t>>>16)+(e>>>16)+(i>>>16)&65535)<<16|65535&i}function x(t,e,i,n){var r=(65535&t)+(65535&e)+(65535&i)+(65535&n);return((t>>>16)+(e>>>16)+(i>>>16)+(n>>>16)+(r>>>16)&65535)<<16|65535&r}function k(t,e,i,n,r){var a=(65535&t)+(65535&e)+(65535&i)+(65535&n)+(65535&r);return((t>>>16)+(e>>>16)+(i>>>16)+(n>>>16)+(r>>>16)+(a>>>16)&65535)<<16|65535&a}function C(t){var e,n=[];if(0!==t.lastIndexOf("SHA-",0))throw Error("No SHA variants supported");switch(n=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],e=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t){case"SHA-224":break;case"SHA-256":n=e;break;case"SHA-384":n=[new i,new i,new i,new i,new i,new i,new i,new i];break;case"SHA-512":n=[new i,new i,new i,new i,new i,new i,new i,new i];break;default:throw Error("Unknown SHA variant")}return n}function S(t,e,i){var n,r,a,o,s,l,u,c,h,p,d,C,S,M,E,$,F,D,A,O,R,L,P,I=[];if("SHA-224"!==i&&"SHA-256"!==i)throw Error("Unexpected error in SHA-2 implementation");for(p=64,C=1,L=Number,S=w,M=x,E=k,$=b,F=y,D=m,A=v,R=g,O=f,P=T,i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],d=0;d<p;d+=1)16>d?(h=d*C,c=t.length<=h?0:t[h],h=t.length<=h+1?0:t[h+1],I[d]=new L(c,h)):I[d]=M(F(I[d-2]),I[d-7],$(I[d-15]),I[d-16]),c=E(u,A(o),O(o,s,l),P[d],I[d]),h=S(D(i),R(i,n,r)),u=l,l=s,s=o,o=S(a,c),a=r,r=n,n=i,i=S(c,h);return e[0]=S(i,e[0]),e[1]=S(n,e[1]),e[2]=S(r,e[2]),e[3]=S(a,e[3]),e[4]=S(o,e[4]),e[5]=S(s,e[5]),e[6]=S(l,e[6]),e[7]=S(u,e[7]),e}var T;T=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=e),exports=e):t.jsSHA=e}(this),function(t){"use strict";angular.module("tmh.dynamicLocale",[]).provider("tmhDynamicLocale",function(){function t(t,e,i,n){var r=document.createElement("script"),a=document.getElementsByTagName("body")[0],o=!1;r.type="text/javascript",r.readyState?r.onreadystatechange=function(){"complete"!==r.readyState&&"loaded"!==r.readyState||(r.onreadystatechange=null,n(function(){o||(o=!0,a.removeChild(r),e())},30,!1))}:(r.onload=function(){o||(o=!0,a.removeChild(r),e())},r.onerror=function(){o||(o=!0,a.removeChild(r),i())}),r.src=t,r.async=!1,a.appendChild(r)}function e(e,i,a,o,u,c,h){function p(t,e){r===a&&(angular.forEach(t,function(i,n){e[n]?angular.isArray(e[n])&&(t[n].length=e[n].length):delete t[n]}),angular.forEach(e,function(i,n){angular.isArray(e[n])||angular.isObject(e[n])?(t[n]||(t[n]=angular.isArray(e[n])?[]:{}),p(t[n],e[n])):t[n]=e[n]}))}if(l[a])return l[a];var d,f=u.defer();return a===r?f.resolve(i):(d=c.get(a))?(r=a,o.$evalAsync(function(){p(i,d),o.$broadcast("$localeChangeSuccess",a,i),n.put(s,a),f.resolve(i)})):(r=a,l[a]=f.promise,t(e,function(){var t=angular.injector(["ngLocale"]),e=t.get("$locale");p(i,e),c.put(a,e),delete l[a],o.$apply(function(){o.$broadcast("$localeChangeSuccess",a,i),n.put(s,a),f.resolve(i)})},function(){delete l[a],o.$apply(function(){o.$broadcast("$localeChangeError",a),f.reject(a)})},h)),f.promise}var i,n,r,a="angular/i18n/angular-locale_{{locale}}.js",o="tmhDynamicLocaleStorageCache",s="tmhDynamicLocale.locale",l={};this.localeLocationPattern=function(t){return t?(a=t,this):a},this.useStorage=function(t){o=t},this.useCookieStorage=function(){this.useStorage("$cookieStore")},this.defaultLocale=function(t){i=t},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(t,r,l,u,c,h,p){var d=l(a);return n=r.get(o),t.$evalAsync(function(){var r;(r=n.get(s)||i)&&e(d({locale:r}),u,r,t,c,h,p)}),{set:function(i){return e(d({locale:i}),u,i,t,c,h,p)}}}]}).provider("tmhDynamicLocaleCache",function(){this.$get=["$cacheFactory",function(t){return t("tmh.dynamicLocales")}]}).provider("tmhDynamicLocaleStorageCache",function(){this.$get=["$cacheFactory",function(t){return t("tmh.dynamicLocales.store")}]}).run(["tmhDynamicLocale",angular.noop])}(window),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.datepicker","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepickerPopup","ui.bootstrap.position","ui.bootstrap.dropdown","ui.bootstrap.multiMap","ui.bootstrap.modal","ui.bootstrap.stackedMap","ui.bootstrap.typeahead","ui.bootstrap.debounce","ui.bootstrap.tabs"]),angular.module("ui.bootstrap.tpls",["uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html"]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(t,e,i,n,r,a,o,s,l,u,c,h){function p(e){t.datepickerMode=e,t.datepickerOptions.datepickerMode=e}function d(e){var i;if(angular.version.minor<6)i=e.$options||t.datepickerOptions.ngModelOptions||l.ngModelOptions||{},i.getOption=function(t){return i[t]};else{var n=e.$options.getOption("timezone")||(t.datepickerOptions.ngModelOptions?t.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);i=e.$options.createChild(l.ngModelOptions).createChild(t.datepickerOptions.ngModelOptions).createChild(e.$options).createChild({timezone:n})}return i}var f=this,g={$setViewValue:angular.noop},m={},v=[];e.addClass("uib-datepicker"),i.$set("role","application"),t.datepickerOptions||(t.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(e){switch(e){case"customClass":case"dateDisabled":t[e]=t.datepickerOptions[e]||angular.noop;break;case"datepickerMode":t.datepickerMode=angular.isDefined(t.datepickerOptions.datepickerMode)?t.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":f[e]=angular.isDefined(t.datepickerOptions[e])?r(t.datepickerOptions[e])(t.$parent):l[e];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":f[e]=angular.isDefined(t.datepickerOptions[e])?t.datepickerOptions[e]:l[e];break;case"startingDay":f.startingDay=angular.isDefined(t.datepickerOptions.startingDay)?t.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?l.startingDay:(a.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":t.$watch("datepickerOptions."+e,function(t){t?angular.isDate(t)?f[e]=h.fromTimezone(new Date(t),m.getOption("timezone")):(u&&o.warn("Literal date support has been deprecated, please switch to date object usage"),f[e]=new Date(s(t,"medium"))):f[e]=l[e]?h.fromTimezone(new Date(l[e]),m.getOption("timezone")):null,f.refreshView()});break;case"maxMode":case"minMode":t.datepickerOptions[e]?t.$watch(function(){return t.datepickerOptions[e]},function(i){f[e]=t[e]=angular.isDefined(i)?i:t.datepickerOptions[e],("minMode"===e&&f.modes.indexOf(t.datepickerOptions.datepickerMode)<f.modes.indexOf(f[e])||"maxMode"===e&&f.modes.indexOf(t.datepickerOptions.datepickerMode)>f.modes.indexOf(f[e]))&&(t.datepickerMode=f[e],t.datepickerOptions.datepickerMode=f[e])}):f[e]=t[e]=l[e]||null}}),t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),t.disabled=angular.isDefined(i.disabled)||!1,angular.isDefined(i.ngDisabled)&&v.push(t.$parent.$watch(i.ngDisabled,function(e){t.disabled=e,f.refreshView()})),t.isActive=function(e){return 0===f.compare(e.date,f.activeDate)&&(t.activeDateId=e.uid,!0)},this.init=function(e){g=e,m=d(g),t.datepickerOptions.initDate?(f.activeDate=h.fromTimezone(t.datepickerOptions.initDate,m.getOption("timezone"))||new Date,t.$watch("datepickerOptions.initDate",function(t){t&&(g.$isEmpty(g.$modelValue)||g.$invalid)&&(f.activeDate=h.fromTimezone(t,m.getOption("timezone")),f.refreshView())})):f.activeDate=new Date;var i=g.$modelValue?new Date(g.$modelValue):new Date;this.activeDate=isNaN(i)?h.fromTimezone(new Date,m.getOption("timezone")):h.fromTimezone(i,m.getOption("timezone")),g.$render=function(){f.render()}},this.render=function(){if(g.$viewValue){var t=new Date(g.$viewValue),e=!isNaN(t);e?this.activeDate=h.fromTimezone(t,m.getOption("timezone")):c||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){t.selectedDt=null,this._refreshView(),t.activeDt&&(t.activeDateId=t.activeDt.uid);var e=g.$viewValue?new Date(g.$viewValue):null;e=h.fromTimezone(e,m.getOption("timezone")),g.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,i){var n=g.$viewValue?new Date(g.$viewValue):null;n=h.fromTimezone(n,m.getOption("timezone"));var r=new Date;r=h.fromTimezone(r,m.getOption("timezone"));var a=this.compare(e,r),o={date:e,label:h.filter(e,i),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),past:0>a,current:0===a,future:a>0,customClass:this.customClass(e)||null};return n&&0===this.compare(e,n)&&(t.selectedDt=o),f.activeDate&&0===this.compare(o.date,f.activeDate)&&(t.activeDt=o),o},this.isDisabled=function(e){return t.disabled||this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&this.compare(e,this.maxDate)>0||t.dateDisabled&&t.dateDisabled({date:e,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var i=[];t.length>0;)i.push(t.splice(0,e));return i},t.select=function(e){if(t.datepickerMode===f.minMode){var i=g.$viewValue?h.fromTimezone(new Date(g.$viewValue),m.getOption("timezone")):new Date(0,0,0,0,0,0,0);i.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),i=h.toTimezone(i,m.getOption("timezone")),g.$setViewValue(i),g.$render()}else f.activeDate=e,p(f.modes[f.modes.indexOf(t.datepickerMode)-1]),t.$emit("uib:datepicker.mode");t.$broadcast("uib:datepicker.focus")},t.move=function(t){var e=f.activeDate.getFullYear()+t*(f.step.years||0),i=f.activeDate.getMonth()+t*(f.step.months||0);f.activeDate.setFullYear(e,i,1),f.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===f.maxMode&&1===e||t.datepickerMode===f.minMode&&-1===e||(p(f.modes[f.modes.indexOf(t.datepickerMode)+e]),t.$emit("uib:datepicker.mode"))},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var b=function(){f.element[0].focus()};t.$on("uib:datepicker.focus",b),t.keydown=function(e){var i=t.keys[e.which];if(i&&!e.shiftKey&&!e.altKey&&!t.disabled)if(e.preventDefault(),f.shortcutPropagation||e.stopPropagation(),"enter"===i||"space"===i){if(f.isDisabled(f.activeDate))return;t.select(f.activeDate)}else!e.ctrlKey||"up"!==i&&"down"!==i?(f.handleKeyDown(i,e),f.refreshView()):t.toggleMode("up"===i?1:-1)},e.on("keydown",function(e){t.$apply(function(){t.keydown(e)})}),t.$on("$destroy",function(){for(;v.length;)v.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(t,e,i){function n(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?a[e]:29}function r(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var i=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((i-e)/864e5)/7)+1}var a=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=e,this.init=function(e){angular.extend(e,this),t.showWeeks=e.showWeeks,e.refreshView()},this.getDates=function(t,e){for(var i,n=new Array(e),r=new Date(t),a=0;e>a;)i=new Date(r),n[a++]=i,r.setDate(r.getDate()+1);return n},this._refreshView=function(){var e=this.activeDate.getFullYear(),n=this.activeDate.getMonth(),a=new Date(this.activeDate);a.setFullYear(e,n,1);var o=this.startingDay-a.getDay(),s=o>0?7-o:-o,l=new Date(a);s>0&&l.setDate(-s+1);for(var u=this.getDates(l,42),c=0;42>c;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==n,uid:t.uniqueId+"-"+c});t.labels=new Array(7);for(var h=0;7>h;h++)t.labels[h]={abbr:i(u[h].date,this.formatDayHeader),full:i(u[h].date,"EEEE")};if(t.title=i(this.activeDate,this.formatDayTitle),t.rows=this.split(u,7),t.showWeeks){t.weekNumbers=[];for(var p=(11-this.startingDay)%7,d=t.rows.length,f=0;d>f;f++)t.weekNumbers.push(r(t.rows[f][p].date))}},this.compare=function(t,e){var i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate());return i.setFullYear(t.getFullYear()),n.setFullYear(e.getFullYear()),i-n},this.handleKeyDown=function(t){var e=this.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var i=this.activeDate.getMonth()+("pageup"===t?-1:1);this.activeDate.setMonth(i,1),e=Math.min(n(this.activeDate.getFullYear(),this.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=n(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(e)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(t,e,i){this.step={years:1},this.element=e,this.init=function(t){angular.extend(t,this),t.refreshView()},this._refreshView=function(){for(var e,n=new Array(12),r=this.activeDate.getFullYear(),a=0;12>a;a++)e=new Date(this.activeDate),e.setFullYear(r,a,1),n[a]=angular.extend(this.createDateObject(e,this.formatMonth),{uid:t.uniqueId+"-"+a});t.title=i(this.activeDate,this.formatMonthTitle),t.rows=this.split(n,this.monthColumns),t.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(t,e){var i=new Date(t.getFullYear(),t.getMonth()),n=new Date(e.getFullYear(),e.getMonth());return i.setFullYear(t.getFullYear()),n.setFullYear(e.getFullYear()),i-n},this.handleKeyDown=function(t){var e=this.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=this.monthColumns;else if("right"===t)e+=1;else if("down"===t)e+=this.monthColumns;else if("pageup"===t||"pagedown"===t){var i=this.activeDate.getFullYear()+("pageup"===t?-1:1);this.activeDate.setFullYear(i)}else"home"===t?e=0:"end"===t&&(e=11);this.activeDate.setMonth(e)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(t,e){function i(t){return parseInt((t-1)/r,10)*r+1}var n,r;this.element=e,this.yearpickerInit=function(){n=this.yearColumns,r=this.yearRows*n,this.step={years:r}},this._refreshView=function(){for(var e,a=new Array(r),o=0,s=i(this.activeDate.getFullYear());r>o;o++)e=new Date(this.activeDate),e.setFullYear(s+o,0,1),a[o]=angular.extend(this.createDateObject(e,this.formatYear),{uid:t.uniqueId+"-"+o});t.title=[a[0].label,a[r-1].label].join(" - "),t.rows=this.split(a,n),t.columns=n},this.compare=function(t,e){return t.getFullYear()-e.getFullYear()},this.handleKeyDown=function(t){var e=this.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=n:"right"===t?e+=1:"down"===t?e+=n:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*r:"home"===t?e=i(this.activeDate.getFullYear()):"end"===t&&(e=i(this.activeDate.getFullYear())+r-1),this.activeDate.setFullYear(e)}}]).directive("uibDatepicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(t,e,i,n){var r=n[0],a=n[1];r.init(a)}}}).directive("uibDaypicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(t,e,i,n){var r=n[0],a=n[1];a.init(r)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(t,e,i,n){var r=n[0],a=n[1];a.init(r)}}}).directive("uibYearpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(t,e,i,n){var r=n[0];angular.extend(r,n[1]),r.yearpickerInit(),r.refreshView()}}}),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(t,e,i,n,r){function a(t){return r(b,{key:t},!0)[0]}function o(t){var e=[],i=t.split(""),r=t.indexOf("'");if(r>-1){var a=!1;t=t.split("");for(var o=r;o<t.length;o++)a?("'"===t[o]&&(o+1<t.length&&"'"===t[o+1]?(t[o+1]="$",i[o+1]=""):(i[o]="",a=!1)),t[o]="$"):"'"===t[o]&&(t[o]="$",i[o]="",a=!0);t=t.join("")}return angular.forEach(b,function(n){var r=t.indexOf(n.key);if(r>-1){t=t.split(""),i[r]="("+n.regex+")",t[r]="$";for(var a=r+1,o=r+n.key.length;o>a;a++)i[a]="",t[a]="$";t=t.join(""),e.push({index:r,key:n.key,apply:n.apply,matcher:n.regex})}}),{regex:new RegExp("^"+i.join("")+"$"),map:n(e,"index")}}function s(t){for(var e,i,n=[],r=0;r<t.length;)if(angular.isNumber(i)){if("'"===t.charAt(r))(r+1>=t.length||"'"!==t.charAt(r+1))&&(n.push(l(t,i,r)),i=null);else if(r===t.length)for(;i<t.length;)e=u(t,i),n.push(e),i=e.endIdx;r++}else"'"!==t.charAt(r)?(e=u(t,r),n.push(e.parser),r=e.endIdx):(i=r,r++);return n}function l(t,e,i){return function(){return t.substr(e+1,i-e-1)}}function u(t,e){for(var i=t.substr(e),n=0;n<b.length;n++)if(new RegExp("^"+b[n].key).test(i)){var r=b[n];return{endIdx:e+r.key.length,parser:r.formatter}}return{endIdx:e+1,parser:function(){return i.charAt(0)}}}function c(t,e,i){return!(1>i)&&(1===e&&i>28?29===i&&(t%4===0&&t%100!==0||t%400===0):3!==e&&5!==e&&8!==e&&10!==e||31>i)}function h(t){return parseInt(t,10)}function p(t,e){return t&&e?m(t,e):t}function d(t,e){return t&&e?m(t,e,!0):t}function f(t,e){t=t.replace(/:/g,"");var i=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(i)?e:i}function g(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function m(t,e,i){i=i?-1:1;var n=t.getTimezoneOffset(),r=f(e,n);return g(t,i*(r-n))}var v,b,y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){v=e.id,this.parsers={},this.formatters={},b=[{key:"yyyy",regex:"\\d{4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),i(e,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(t){t=+t,this.year=69>t?t+2e3:t+1900},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),i(e,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),i(e,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){var e=t.getMonth();return/^[0-9]$/.test(e)?i(t,"MM"):i(t,"M")}},{key:"MMMM",regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)},formatter:function(t){return i(t,"MMMM")}},{key:"MMM",regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)},formatter:function(t){return i(t,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return i(t,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return i(t,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){var e=t.getDate();return/^[1-9]$/.test(e)?i(t,"dd"):i(t,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return i(t,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return i(t,"d");
}},{key:"EEEE",regex:e.DATETIME_FORMATS.DAY.join("|"),formatter:function(t){return i(t,"EEEE")}},{key:"EEE",regex:e.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(t){return i(t,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return i(t,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return i(t,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return i(t,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return i(t,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return i(t,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return i(t,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t},formatter:function(t){return i(t,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return i(t,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return i(t,"s")}},{key:"a",regex:e.DATETIME_FORMATS.AMPMS.join("|"),apply:function(t){12===this.hours&&(this.hours=0),"PM"===t&&(this.hours+=12)},formatter:function(t){return i(t,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(t){var e=t.match(/([+-])(\d{2})(\d{2})/),i=e[1],n=e[2],r=e[3];this.hours+=h(i+n),this.minutes+=h(i+r)},formatter:function(t){return i(t,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(t){return i(t,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(t){return i(t,"w")}},{key:"GGGG",regex:e.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(t){return i(t,"GGGG")}},{key:"GGG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return i(t,"GGG")}},{key:"GG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return i(t,"GG")}},{key:"G",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return i(t,"G")}}],angular.version.major>=1&&angular.version.minor>4&&b.push({key:"LLLL",regex:e.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.STANDALONEMONTH.indexOf(t)},formatter:function(t){return i(t,"LLLL")}})},this.init(),this.getParser=function(t){var e=a(t);return e&&e.apply||null},this.overrideParser=function(t,e){var i=a(t);i&&angular.isFunction(e)&&(this.parsers={},i.apply=e)}.bind(this),this.filter=function(t,i){if(!angular.isDate(t)||isNaN(t)||!i)return"";i=e.DATETIME_FORMATS[i]||i,e.id!==v&&this.init(),this.formatters[i]||(this.formatters[i]=s(i));var n=this.formatters[i];return n.reduce(function(e,i){return e+i(t)},"")},this.parse=function(i,n,r){if(!angular.isString(i)||!n)return i;n=e.DATETIME_FORMATS[n]||n,n=n.replace(y,"\\$&"),e.id!==v&&this.init(),this.parsers[n]||(this.parsers[n]=o(n,"apply"));var a=this.parsers[n],s=a.regex,l=a.map,u=i.match(s),h=!1;if(u&&u.length){var p,d;angular.isDate(r)&&!isNaN(r.getTime())?p={year:r.getFullYear(),month:r.getMonth(),date:r.getDate(),hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds(),milliseconds:r.getMilliseconds()}:(r&&t.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,g=u.length;g>f;f++){var m=l[f-1];"Z"===m.matcher&&(h=!0),m.apply&&m.apply.call(p,u[f])}var b=h?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,w=h?Date.prototype.setUTCHours:Date.prototype.setHours;return c(p.year,p.month,p.date)&&(!angular.isDate(r)||isNaN(r.getTime())||h?(d=new Date(0),b.call(d,p.year,p.month,p.date),w.call(d,p.hours||0,p.minutes||0,p.seconds||0,p.milliseconds||0)):(d=new Date(r),b.call(d,p.year,p.month,p.date),w.call(d,p.hours,p.minutes,p.seconds,p.milliseconds))),d}},this.toTimezone=p,this.fromTimezone=d,this.timezoneToOffset=f,this.addDateMinutes=g,this.convertTimezoneToLocal=m}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(t){var e=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,i=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(n,r){function a(t,e){l.push(t),u.push({scope:t,element:e}),f.forEach(function(e){o(e,t)}),t.$on("$destroy",s)}function o(e,n){var r=e.match(i),a=n.$eval(r[1]),o=r[2],s=c[e];if(!s){var l=function(e){var i=null;u.some(function(t){var n=t.scope.$eval(p);return n===e?(i=t,!0):void 0}),s.lastActivated!==i&&(s.lastActivated&&t.removeClass(s.lastActivated.element,a),i&&t.addClass(i.element,a),s.lastActivated=i)};c[e]=s={lastActivated:null,scope:n,watchFn:l,compareWithExp:o,watcher:n.$watch(o,l)}}s.watchFn(n.$eval(o))}function s(t){var e=t.targetScope,i=l.indexOf(e);if(l.splice(i,1),u.splice(i,1),l.length){var n=l[0];angular.forEach(c,function(t){t.scope===e&&(t.watcher=n.$watch(t.compareWithExp,t.watchFn),t.scope=n)})}else c={}}var l=[],u=[],c={},h=r.uibIsClass.match(e),p=h[2],d=h[1],f=d.split(",");return a}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(t,e,i,n,r,a,o,s,l,u,c,h,p,d,f,g){function m(e){var i=h.parse(e,C,t.date);if(isNaN(i))for(var n=0;n<P.length;n++)if(i=h.parse(e,P[n],t.date),!isNaN(i))return i;return i}function v(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=m(t);if(!isNaN(e))return h.toTimezone(e,R.getOption("timezone"))}return R.getOption("allowInvalid")?t:void 0}function b(t,e){var n=t||e;return!i.ngRequired&&!n||(angular.isNumber(n)&&(n=new Date(n)),!n||(!(!angular.isDate(n)||isNaN(n))||!!angular.isString(n)&&!isNaN(m(n))))}function y(i){if(t.isOpen||!t.disabled){var n=L[0],r=e[0].contains(i.target),a=void 0!==n.contains&&n.contains(i.target);!t.isOpen||r||a||t.$apply(function(){t.isOpen=!1})}}function w(i){27===i.which&&t.isOpen?(i.preventDefault(),i.stopPropagation(),t.$apply(function(){t.isOpen=!1}),e[0].focus()):40!==i.which||t.isOpen||(i.preventDefault(),i.stopPropagation(),t.$apply(function(){t.isOpen=!0}))}function x(){if(t.isOpen){var n=angular.element(L[0].querySelector(".uib-datepicker-popup")),r=i.popupPlacement?i.popupPlacement:p.placement,a=u.positionElements(e,n,r,T);n.css({top:a.top+"px",left:a.left+"px"}),n.hasClass("uib-position-measure")&&n.removeClass("uib-position-measure")}}function k(t){var e;return angular.version.minor<6?(e=angular.isObject(t.$options)?t.$options:{timezone:null},e.getOption=function(t){return e[t]}):e=t.$options,e}var C,S,T,M,E,$,F,D,A,O,R,L,P,I=!1,N=[];this.init=function(r){if(O=r,R=k(O),S=angular.isDefined(i.closeOnDateSelection)?t.$parent.$eval(i.closeOnDateSelection):p.closeOnDateSelection,T=angular.isDefined(i.datepickerAppendToBody)?t.$parent.$eval(i.datepickerAppendToBody):p.appendToBody,M=angular.isDefined(i.onOpenFocus)?t.$parent.$eval(i.onOpenFocus):p.onOpenFocus,E=angular.isDefined(i.datepickerPopupTemplateUrl)?i.datepickerPopupTemplateUrl:p.datepickerPopupTemplateUrl,$=angular.isDefined(i.datepickerTemplateUrl)?i.datepickerTemplateUrl:p.datepickerTemplateUrl,P=angular.isDefined(i.altInputFormats)?t.$parent.$eval(i.altInputFormats):p.altInputFormats,t.showButtonBar=angular.isDefined(i.showButtonBar)?t.$parent.$eval(i.showButtonBar):p.showButtonBar,p.html5Types[i.type]?(C=p.html5Types[i.type],I=!0):(C=i.uibDatepickerPopup||p.datepickerPopup,i.$observe("uibDatepickerPopup",function(t){var e=t||p.datepickerPopup;if(e!==C&&(C=e,O.$modelValue=null,!C))throw new Error("uibDatepickerPopup must have a date format specified.")})),!C)throw new Error("uibDatepickerPopup must have a date format specified.");if(I&&i.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");F=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),F.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":E}),D=angular.element(F.children()[0]),D.attr("template-url",$),t.datepickerOptions||(t.datepickerOptions={}),I&&"month"===i.type&&(t.datepickerOptions.datepickerMode="month",t.datepickerOptions.minMode="month"),D.attr("datepicker-options","datepickerOptions"),I?O.$formatters.push(function(e){return t.date=h.fromTimezone(e,R.getOption("timezone")),e}):(O.$$parserName="date",O.$validators.date=b,O.$parsers.unshift(v),O.$formatters.push(function(e){return O.$isEmpty(e)?(t.date=e,e):(angular.isNumber(e)&&(e=new Date(e)),t.date=h.fromTimezone(e,R.getOption("timezone")),h.filter(t.date,C))})),O.$viewChangeListeners.push(function(){t.date=m(O.$viewValue)}),e.on("keydown",w),L=n(F)(t),F.remove(),T?s.find("body").append(L):e.after(L),t.$on("$destroy",function(){for(t.isOpen===!0&&(l.$$phase||t.$apply(function(){t.isOpen=!1})),L.remove(),e.off("keydown",w),s.off("click",y),A&&A.off("scroll",x),angular.element(o).off("resize",x);N.length;)N.shift()()})},t.getText=function(e){return t[e+"Text"]||p[e+"Text"]},t.isDisabled=function(e){"today"===e&&(e=h.fromTimezone(new Date,R.getOption("timezone")));var i={};return angular.forEach(["minDate","maxDate"],function(e){t.datepickerOptions[e]?angular.isDate(t.datepickerOptions[e])?i[e]=new Date(t.datepickerOptions[e]):(g&&r.warn("Literal date support has been deprecated, please switch to date object usage"),i[e]=new Date(c(t.datepickerOptions[e],"medium"))):i[e]=null}),t.datepickerOptions&&i.minDate&&t.compare(e,i.minDate)<0||i.maxDate&&t.compare(e,i.maxDate)>0},t.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},t.dateSelection=function(i){t.date=i;var n=t.date?h.filter(t.date,C):null;e.val(n),O.$setViewValue(n),S&&(t.isOpen=!1,e[0].focus())},t.keydown=function(i){27===i.which&&(i.stopPropagation(),t.isOpen=!1,e[0].focus())},t.select=function(e,i){if(i.stopPropagation(),"today"===e){var n=new Date;angular.isDate(t.date)?(e=new Date(t.date),e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate())):(e=h.fromTimezone(n,R.getOption("timezone")),e.setHours(0,0,0,0))}t.dateSelection(e)},t.close=function(i){i.stopPropagation(),t.isOpen=!1,e[0].focus()},t.disabled=angular.isDefined(i.disabled)||!1,i.ngDisabled&&N.push(t.$parent.$watch(a(i.ngDisabled),function(e){t.disabled=e})),t.$watch("isOpen",function(n){n?t.disabled?t.isOpen=!1:d(function(){x(),M&&t.$broadcast("uib:datepicker.focus"),s.on("click",y);var n=i.popupPlacement?i.popupPlacement:p.placement;T||u.parsePlacement(n)[2]?(A=A||angular.element(u.scrollParent(e)),A&&A.on("scroll",x)):A=null,angular.element(o).on("resize",x)},0,!1):(s.off("click",y),A&&A.off("scroll",x),angular.element(o).off("resize",x))}),t.$on("uib:datepicker.mode",function(){d(x,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(t,e,i,n){var r=n[0],a=n[1];a.init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(t,e){var i,n,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},a={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},o=/(HTML|BODY)/;return{getRawNode:function(t){return t.nodeName?t:t[0]||t},parseStyle:function(t){return t=parseFloat(t),isFinite(t)?t:0},offsetParent:function(i){function n(t){return"static"===(e.getComputedStyle(t).position||"static")}i=this.getRawNode(i);for(var r=i.offsetParent||t[0].documentElement;r&&r!==t[0].documentElement&&n(r);)r=r.offsetParent;return r||t[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(n)){var a=t.find("body");a.addClass("uib-position-body-scrollbar-measure"),n=e.innerWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.removeClass("uib-position-body-scrollbar-measure")}return n}if(angular.isUndefined(i)){var o=angular.element('<div class="uib-position-scrollbar-measure"></div>');t.find("body").append(o),i=o[0].offsetWidth-o[0].clientWidth,i=isFinite(i)?i:0,o.remove()}return i},scrollbarPadding:function(t){t=this.getRawNode(t);var i=e.getComputedStyle(t),n=this.parseStyle(i.paddingRight),r=this.parseStyle(i.paddingBottom),a=this.scrollParent(t,!1,!0),s=this.scrollbarWidth(o.test(a.tagName));return{scrollbarWidth:s,widthOverflow:a.scrollWidth>a.clientWidth,right:n+s,originalRight:n,heightOverflow:a.scrollHeight>a.clientHeight,bottom:r+s,originalBottom:r}},isScrollable:function(t,i){t=this.getRawNode(t);var n=i?r.hidden:r.normal,a=e.getComputedStyle(t);return n.test(a.overflow+a.overflowY+a.overflowX)},scrollParent:function(i,n,a){i=this.getRawNode(i);var o=n?r.hidden:r.normal,s=t[0].documentElement,l=e.getComputedStyle(i);if(a&&o.test(l.overflow+l.overflowY+l.overflowX))return i;var u="absolute"===l.position,c=i.parentElement||s;if(c===s||"fixed"===l.position)return s;for(;c.parentElement&&c!==s;){var h=e.getComputedStyle(c);if(u&&"static"!==h.position&&(u=!1),!u&&o.test(h.overflow+h.overflowY+h.overflowX))break;c=c.parentElement}return c},position:function(i,n){i=this.getRawNode(i);var r=this.offset(i);if(n){var a=e.getComputedStyle(i);r.top-=this.parseStyle(a.marginTop),r.left-=this.parseStyle(a.marginLeft)}var o=this.offsetParent(i),s={top:0,left:0};return o!==t[0].documentElement&&(s=this.offset(o),s.top+=o.clientTop-o.scrollTop,s.left+=o.clientLeft-o.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:i.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:i.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(i){i=this.getRawNode(i);var n=i.getBoundingClientRect();return{width:Math.round(angular.isNumber(n.width)?n.width:i.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:i.offsetHeight),top:Math.round(n.top+(e.pageYOffset||t[0].documentElement.scrollTop)),left:Math.round(n.left+(e.pageXOffset||t[0].documentElement.scrollLeft))}},viewportOffset:function(i,n,r){i=this.getRawNode(i),r=r!==!1;var a=i.getBoundingClientRect(),o={top:0,left:0,bottom:0,right:0},s=n?t[0].documentElement:this.scrollParent(i),l=s.getBoundingClientRect();if(o.top=l.top+s.clientTop,o.left=l.left+s.clientLeft,s===t[0].documentElement&&(o.top+=e.pageYOffset,o.left+=e.pageXOffset),o.bottom=o.top+s.clientHeight,o.right=o.left+s.clientWidth,r){var u=e.getComputedStyle(s);o.top+=this.parseStyle(u.paddingTop),o.bottom-=this.parseStyle(u.paddingBottom),o.left+=this.parseStyle(u.paddingLeft),o.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(a.top-o.top),bottom:Math.round(o.bottom-a.bottom),left:Math.round(a.left-o.left),right:Math.round(o.right-a.right)}},parsePlacement:function(t){var e=a.auto.test(t);return e&&(t=t.replace(a.auto,"")),t=t.split("-"),t[0]=t[0]||"top",a.primary.test(t[0])||(t[0]="top"),t[1]=t[1]||"center",a.secondary.test(t[1])||(t[1]="center"),t[2]=!!e,t},positionElements:function(t,i,n,r){t=this.getRawNode(t),i=this.getRawNode(i);var o=angular.isDefined(i.offsetWidth)?i.offsetWidth:i.prop("offsetWidth"),s=angular.isDefined(i.offsetHeight)?i.offsetHeight:i.prop("offsetHeight");n=this.parsePlacement(n);var l=r?this.offset(t):this.position(t),u={top:0,left:0,placement:""};if(n[2]){var c=this.viewportOffset(t,r),h=e.getComputedStyle(i),p={width:o+Math.round(Math.abs(this.parseStyle(h.marginLeft)+this.parseStyle(h.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(h.marginTop)+this.parseStyle(h.marginBottom)))};if(n[0]="top"===n[0]&&p.height>c.top&&p.height<=c.bottom?"bottom":"bottom"===n[0]&&p.height>c.bottom&&p.height<=c.top?"top":"left"===n[0]&&p.width>c.left&&p.width<=c.right?"right":"right"===n[0]&&p.width>c.right&&p.width<=c.left?"left":n[0],n[1]="top"===n[1]&&p.height-l.height>c.bottom&&p.height-l.height<=c.top?"bottom":"bottom"===n[1]&&p.height-l.height>c.top&&p.height-l.height<=c.bottom?"top":"left"===n[1]&&p.width-l.width>c.right&&p.width-l.width<=c.left?"right":"right"===n[1]&&p.width-l.width>c.left&&p.width-l.width<=c.right?"left":n[1],"center"===n[1])if(a.vertical.test(n[0])){var d=l.width/2-o/2;c.left+d<0&&p.width-l.width<=c.right?n[1]="left":c.right+d<0&&p.width-l.width<=c.left&&(n[1]="right")}else{var f=l.height/2-p.height/2;c.top+f<0&&p.height-l.height<=c.bottom?n[1]="top":c.bottom+f<0&&p.height-l.height<=c.top&&(n[1]="bottom")}}switch(n[0]){case"top":u.top=l.top-s;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-o;break;case"right":u.left=l.left+l.width}switch(n[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-s;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-o;break;case"center":a.vertical.test(n[0])?u.left=l.left+l.width/2-o/2:u.top=l.top+l.height/2-s/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===n[1]?n[0]:n[0]+"-"+n[1],u},adjustTop:function(t,e,i,n){return-1!==t.indexOf("top")&&i!==n?{top:e.top-n+"px"}:void 0},positionArrow:function(t,i){t=this.getRawNode(t);var n=t.querySelector(".tooltip-inner, .popover-inner");if(n){var r=angular.element(n).hasClass("tooltip-inner"),o=t.querySelector(r?".tooltip-arrow":".arrow");if(o){var s={top:"",bottom:"",left:"",right:""};if(i=this.parsePlacement(i),"center"===i[1])return void angular.element(o).css(s);var l="border-"+i[0]+"-width",u=e.getComputedStyle(o)[l],c="border-";c+=a.vertical.test(i[0])?i[0]+"-"+i[1]:i[1]+"-"+i[0],c+="-radius";var h=e.getComputedStyle(r?n:t)[c];switch(i[0]){case"top":s.bottom=r?"0":"-"+u;break;case"bottom":s.top=r?"0":"-"+u;break;case"left":s.right=r?"0":"-"+u;break;case"right":s.left=r?"0":"-"+u}s[i[1]]=h,angular.element(o).css(s)}}}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(t,e,i){var n=null,r=i.createNew();this.isOnlyOpen=function(t,e){var i=r.get(e);if(i){var n=i.reduce(function(e,i){return i.scope===t?i:e},{});if(n)return 1===i.length}return!1},this.open=function(e,i,o){if(n||t.on("click",a),n&&n!==e&&(n.isOpen=!1),n=e,o){var s=r.get(o);if(s){var l=s.map(function(t){return t.scope});-1===l.indexOf(e)&&r.put(o,{scope:e})}else r.put(o,{scope:e})}},this.close=function(e,i,o){if(n===e&&(t.off("click",a),t.off("keydown",this.keybindFilter),n=null),o){var s=r.get(o);if(s){var l=s.reduce(function(t,i){return i.scope===e?i:t},{});l&&r.remove(o,l)}}};var a=function(t){if(n&&n.isOpen&&!(t&&"disabled"===n.getAutoClose()||t&&3===t.which)){var i=n.getToggleElement();if(!(t&&i&&i[0].contains(t.target))){var r=n.getDropdownElement();t&&"outsideClick"===n.getAutoClose()&&r&&r[0].contains(t.target)||(n.focusToggleElement(),n.isOpen=!1,e.$$phase||n.$apply())}}};this.keybindFilter=function(t){if(n){var e=n.getDropdownElement(),i=n.getToggleElement(),r=e&&e[0].contains(t.target),o=i&&i[0].contains(t.target);27===t.which?(t.stopPropagation(),n.focusToggleElement(),a()):n.isKeynavEnabled()&&-1!==[38,40].indexOf(t.which)&&n.isOpen&&(r||o)&&(t.preventDefault(),t.stopPropagation(),n.focusDropdownEntry(t.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(t,e,i,n,r,a,o,s,l,u,c){function h(){e.append(f.dropdownMenu)}var p,d,f=this,g=t.$new(),m=r.appendToOpenClass,v=r.openClass,b=angular.noop,y=i.onToggle?n(i.onToggle):angular.noop,w=!1,x=l.find("body");e.addClass("dropdown"),this.init=function(){i.isOpen&&(d=n(i.isOpen),b=d.assign,t.$watch(d,function(t){g.isOpen=!!t})),w=angular.isDefined(i.keyboardNav)},this.toggle=function(t){return g.isOpen=arguments.length?!!t:!g.isOpen,angular.isFunction(b)&&b(g,g.isOpen),g.isOpen},this.isOpen=function(){return g.isOpen},g.getToggleElement=function(){return f.toggleElement},g.getAutoClose=function(){return i.autoClose||"always"},g.getElement=function(){return e},g.isKeynavEnabled=function(){return w},g.focusDropdownEntry=function(t){var i=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):e.find("ul").eq(0).find("a");switch(t){case 40:f.selectedOption=angular.isNumber(f.selectedOption)?f.selectedOption===i.length-1?f.selectedOption:f.selectedOption+1:0;break;case 38:f.selectedOption=angular.isNumber(f.selectedOption)?0===f.selectedOption?0:f.selectedOption-1:i.length-1}i[f.selectedOption].focus()},g.getDropdownElement=function(){return f.dropdownMenu},g.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},g.$watch("isOpen",function(r,d){var w=null,k=!1;if(angular.isDefined(i.dropdownAppendTo)){var C=n(i.dropdownAppendTo)(g);C&&(w=angular.element(C))}if(angular.isDefined(i.dropdownAppendToBody)){var S=n(i.dropdownAppendToBody)(g);S!==!1&&(k=!0)}if(k&&!w&&(w=x),w&&f.dropdownMenu&&(r?(w.append(f.dropdownMenu),e.on("$destroy",h)):(e.off("$destroy",h),h())),w&&f.dropdownMenu){var T,M,E,$=s.positionElements(e,f.dropdownMenu,"bottom-left",!0),F=0;if(T={top:$.top+"px",display:r?"block":"none"},M=f.dropdownMenu.hasClass("dropdown-menu-right"),M?(T.left="auto",E=s.scrollbarPadding(w),E.heightOverflow&&E.scrollbarWidth&&(F=E.scrollbarWidth),T.right=window.innerWidth-F-($.left+e.prop("offsetWidth"))+"px"):(T.left=$.left+"px",T.right="auto"),!k){var D=s.offset(w);T.top=$.top-D.top+"px",M?T.right=window.innerWidth-($.left-D.left+e.prop("offsetWidth"))+"px":T.left=$.left-D.left+"px"}f.dropdownMenu.css(T)}var A=w?w:e,O=w?m:v,R=A.hasClass(O),L=a.isOnlyOpen(t,w);if(R===!r){var P;P=w?L?"removeClass":"addClass":r?"addClass":"removeClass",o[P](A,O).then(function(){angular.isDefined(r)&&r!==d&&y(t,{open:!!r})})}if(r)f.dropdownMenuTemplateUrl?c(f.dropdownMenuTemplateUrl).then(function(t){p=g.$new(),u(t.trim())(p,function(t){var e=t;f.dropdownMenu.replaceWith(e),f.dropdownMenu=e,l.on("keydown",a.keybindFilter)})}):l.on("keydown",a.keybindFilter),g.focusToggleElement(),a.open(g,e,w);else{if(a.close(g,e,w),f.dropdownMenuTemplateUrl){p&&p.$destroy();var I=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(I),f.dropdownMenu=I}f.selectedOption=null}angular.isFunction(b)&&b(t,r)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(t,e,i,n){n.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(t,e,i,n){if(n&&!angular.isDefined(i.dropdownNested)){e.addClass("dropdown-menu");var r=i.templateUrl;r&&(n.dropdownMenuTemplateUrl=r),n.dropdownMenu||(n.dropdownMenu=e)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(t,e,i,n){if(n){e.addClass("dropdown-toggle"),n.toggleElement=e;var r=function(r){r.preventDefault(),e.hasClass("disabled")||i.disabled||t.$apply(function(){n.toggle()})};e.on("click",r),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(n.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.off("click",r)})}}}}),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var t={};return{entries:function(){return Object.keys(t).map(function(e){return{key:e,value:t[e]}})},get:function(e){return t[e]},hasKey:function(e){return!!t[e]},keys:function(){return Object.keys(t)},put:function(e,i){t[e]||(t[e]=[]),t[e].push(i)},remove:function(e,i){var n=t[e];if(n){var r=n.indexOf(i);-1!==r&&n.splice(r,1),n.length||delete t[e]}}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var t=this;this.resolver=null,this.setResolver=function(t){this.resolver=t},this.$get=["$injector","$q",function(e,i){var n=t.resolver?e.get(t.resolver):null;return{resolve:function(t,r,a,o){if(n)return n.resolve(t,r,a,o);var s=[];return angular.forEach(t,function(t){s.push(angular.isFunction(t)||angular.isArray(t)?i.resolve(e.invoke(t)):angular.isString(t)?i.resolve(e.get(t)):i.resolve(t))}),i.all(s).then(function(e){var i={},n=0;return angular.forEach(t,function(t,r){i[r]=e[n++]}),i})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(t,e,i){function n(e,n,r){r.modalInClass&&(t.addClass(n,r.modalInClass),e.$on(i.NOW_CLOSING_EVENT,function(i,a){var o=a();e.modalOptions.animation?t.removeClass(n,r.modalInClass).then(o):o()}))}return{restrict:"A",compile:function(t,e){return t.addClass(e.backdropClass),n}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(t,e,i,n){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/modal/window.html"},link:function(r,a,o){a.addClass(o.windowTopClass||""),r.size=o.size,r.close=function(e){var i=t.getTop();i&&i.value.backdrop&&"static"!==i.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(i.key,"backdrop click"))},a.on("click",r.close),r.$isRendered=!0;var s=e.defer();r.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;o.modalInClass&&(s=i(a,{addClass:o.modalInClass}).start(),r.$on(t.NOW_CLOSING_EVENT,function(t,e){var n=e();i(a,{removeClass:o.modalInClass}).start().then(n)})),e.when(s).then(function(){var e=t.getTop();if(e&&t.modalRendered(e.key),!n[0].activeElement||!a[0].contains(n[0].activeElement)){var i=a[0].querySelector("[autofocus]");i?i.focus():a[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(t){return{link:function(e,i,n,r,a){a(e.$parent,function(e){i.empty(),t.enter(e,i)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(t,e,i,n,r,a,o,s,l){function u(t){var e="-";return t.replace(D,function(t,i){return(i?e:"")+t.toLowerCase()})}function c(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function h(){for(var t=-1,e=C.keys(),i=0;i<e.length;i++)C.get(e[i]).value.backdrop&&(t=i);return t>-1&&M>t&&(t=M),t}function p(t,e){var i=C.get(t).value,n=i.appendTo;C.remove(t),E=C.top(),E&&(M=parseInt(E.value.modalDomEl.attr("index"),10)),g(i.modalDomEl,i.modalScope,function(){var e=i.openedClass||k;S.remove(e,t);var r=S.hasKey(e);n.toggleClass(e,r),!r&&x&&x.heightOverflow&&x.scrollbarWidth&&(n.css(x.originalRight?{paddingRight:x.originalRight+"px"}:{paddingRight:""}),x=null),d(!0)},i.closedDeferred),f(),e&&e.focus?e.focus():n.focus&&n.focus()}function d(t){var e;C.length()>0&&(e=C.top().value,e.modalDomEl.toggleClass(e.windowTopClass||"",t))}function f(){if(y&&-1===h()){var t=w;g(y,w,function(){t=null}),y=void 0,w=void 0}}function g(e,i,n,r){function o(){o.done||(o.done=!0,t.leave(e).then(function(){n&&n(),e.remove(),r&&r.resolve()}),i.$destroy())}var s,l=null,u=function(){return s||(s=a.defer(),l=s.promise),function(){s.resolve()}};return i.$broadcast(T.NOW_CLOSING_EVENT,u),a.when(l).then(o)}function m(t){if(t.isDefaultPrevented())return t;var e=C.top();if(e)switch(t.which){case 27:e.value.keyboard&&(t.preventDefault(),r.$apply(function(){T.dismiss(e.key,"escape key press")}));break;case 9:var i=T.loadFocusElementList(e),n=!1;t.shiftKey?(T.isFocusInFirstItem(t,i)||T.isModalFocused(t,e))&&(n=T.focusLastFocusableElement(i)):T.isFocusInLastItem(t,i)&&(n=T.focusFirstFocusableElement(i)),n&&(t.preventDefault(),t.stopPropagation())}}function v(t,e,i){return!t.value.modalScope.$broadcast("modal.closing",e,i).defaultPrevented}function b(){Array.prototype.forEach.call(document.querySelectorAll("["+$+"]"),function(t){var e=parseInt(t.getAttribute($),10),i=e-1;t.setAttribute($,i),i||(t.removeAttribute($),t.removeAttribute("aria-hidden"))})}var y,w,x,k="modal-open",C=s.createNew(),S=o.createNew(),T={NOW_CLOSING_EVENT:"modal.stack.now-closing"},M=0,E=null,$="data-bootstrap-modal-aria-hidden-count",F="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]",D=/[A-Z]/g;return r.$watch(h,function(t){w&&(w.index=t)}),i.on("keydown",m),r.$on("$destroy",function(){i.off("keydown",m)}),T.open=function(e,a){function o(t){function e(t){var e=t.parent()?t.parent().children():[];return Array.prototype.filter.call(e,function(e){return e!==t[0]})}if(t&&"BODY"!==t[0].tagName)return e(t).forEach(function(t){var e="true"===t.getAttribute("aria-hidden"),i=parseInt(t.getAttribute($),10);i||(i=e?1:0),t.setAttribute($,i+1),t.setAttribute("aria-hidden","true")}),o(t.parent())}var s=i[0].activeElement,c=a.openedClass||k;d(!1),E=C.top(),C.add(e,{deferred:a.deferred,renderDeferred:a.renderDeferred,closedDeferred:a.closedDeferred,modalScope:a.scope,backdrop:a.backdrop,keyboard:a.keyboard,openedClass:a.openedClass,windowTopClass:a.windowTopClass,animation:a.animation,appendTo:a.appendTo}),S.put(c,e);var p=a.appendTo,f=h();f>=0&&!y&&(w=r.$new(!0),w.modalOptions=a,w.index=f,y=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),y.attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),a.backdropClass&&y.addClass(a.backdropClass),a.animation&&y.attr("modal-animation","true"),n(y)(w),t.enter(y,p),l.isScrollable(p)&&(x=l.scrollbarPadding(p),x.heightOverflow&&x.scrollbarWidth&&p.css({paddingRight:x.right+"px"})));var g;a.component?(g=document.createElement(u(a.component.name)),g=angular.element(g),g.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):g=a.content,M=E?parseInt(E.value.modalDomEl.attr("index"),10)+1:0;var m=angular.element('<div uib-modal-window="modal-window"></div>');m.attr({class:"modal","template-url":a.windowTemplateUrl,"window-top-class":a.windowTopClass,role:"dialog","aria-labelledby":a.ariaLabelledBy,"aria-describedby":a.ariaDescribedBy,size:a.size,index:M,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(g),a.windowClass&&m.addClass(a.windowClass),a.animation&&m.attr("modal-animation","true"),p.addClass(c),a.scope&&(a.scope.$$topModalIndex=M),t.enter(n(m)(a.scope),p),C.top().value.modalDomEl=m,C.top().value.modalOpener=s,o(m)},T.close=function(t,e){var i=C.get(t);return b(),i&&v(i,e,!0)?(i.value.modalScope.$$uibDestructionScheduled=!0,i.value.deferred.resolve(e),p(t,i.value.modalOpener),!0):!i},T.dismiss=function(t,e){var i=C.get(t);return b(),i&&v(i,e,!1)?(i.value.modalScope.$$uibDestructionScheduled=!0,i.value.deferred.reject(e),p(t,i.value.modalOpener),!0):!i},T.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},T.getTop=function(){return C.top()},T.modalRendered=function(t){var e=C.get(t);e&&e.value.renderDeferred.resolve();
},T.focusFirstFocusableElement=function(t){return t.length>0&&(t[0].focus(),!0)},T.focusLastFocusableElement=function(t){return t.length>0&&(t[t.length-1].focus(),!0)},T.isModalFocused=function(t,e){if(t&&e){var i=e.value.modalDomEl;if(i&&i.length)return(t.target||t.srcElement)===i[0]}return!1},T.isFocusInFirstItem=function(t,e){return e.length>0&&(t.target||t.srcElement)===e[0]},T.isFocusInLastItem=function(t,e){return e.length>0&&(t.target||t.srcElement)===e[e.length-1]},T.loadFocusElementList=function(t){if(t){var e=t.value.modalDomEl;if(e&&e.length){var i=e[0].querySelectorAll(F);return i?Array.prototype.filter.call(i,function(t){return c(t)}):i}}},T}]).provider("$uibModal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(e,i,n,r,a,o,s){function l(t){return t.template?i.when(t.template):r(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(r){function u(){return m}var h=i.defer(),p=i.defer(),d=i.defer(),f=i.defer(),g={result:h.promise,opened:p.promise,closed:d.promise,rendered:f.promise,close:function(t){return s.close(g,t)},dismiss:function(t){return s.dismiss(g,t)}};if(r=angular.extend({},t.options,r),r.resolve=r.resolve||{},r.appendTo=r.appendTo||n.find("body").eq(0),!r.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!r.component&&!r.template&&!r.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var m;m=r.component?i.when(o.resolve(r.resolve,{},null,null)):i.all([l(r),o.resolve(r.resolve,{},null,null)]);var v;return v=c=i.all([c]).then(u,u).then(function(t){function i(e,i,n,r){e.$scope=o,e.$scope.$resolve={},n?e.$scope.$uibModalInstance=g:e.$uibModalInstance=g;var a=i?t[1]:t;angular.forEach(a,function(t,i){r&&(e[i]=t),e.$scope.$resolve[i]=t})}var n=r.scope||e,o=n.$new();o.$close=g.close,o.$dismiss=g.dismiss,o.$on("$destroy",function(){o.$$uibDestructionScheduled||o.$dismiss("$uibUnscheduledDestruction")});var l,u,c={scope:o,deferred:h,renderDeferred:f,closedDeferred:d,animation:r.animation,backdrop:r.backdrop,keyboard:r.keyboard,backdropClass:r.backdropClass,windowTopClass:r.windowTopClass,windowClass:r.windowClass,windowTemplateUrl:r.windowTemplateUrl,ariaLabelledBy:r.ariaLabelledBy,ariaDescribedBy:r.ariaDescribedBy,size:r.size,openedClass:r.openedClass,appendTo:r.appendTo},m={},v={};r.component?(i(m,!1,!0,!1),m.name=r.component,c.component=m):r.controller&&(i(v,!0,!1,!0),u=a(r.controller,v,!0,r.controllerAs),r.controllerAs&&r.bindToController&&(l=u.instance,l.$close=o.$close,l.$dismiss=o.$dismiss,angular.extend(l,{$resolve:v.$scope.$resolve},n)),l=u(),angular.isFunction(l.$onInit)&&l.$onInit()),r.component||(c.content=t[0]),s.open(g,c),p.resolve(!0)},function(t){p.reject(t),h.reject(t)}).finally(function(){c===v&&(c=null)}),g},u}]};return t}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,i){t.push({key:e,value:i})},get:function(e){for(var i=0;i<t.length;i++)if(e===t[i].key)return t[i]},keys:function(){for(var e=[],i=0;i<t.length;i++)e.push(t[i].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var i=-1,n=0;n<t.length;n++)if(e===t[n].key){i=n;break}return t.splice(i,1)[0]},removeTop:function(){return t.pop()},length:function(){return t.length}}}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(i){var n=i.match(e);if(!n)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+i+'".');return{itemName:n[3],source:t(n[4]),viewMapper:t(n[2]||n[1]),modelMapper:t(n[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(t,e,i,n,r,a,o,s,l,u,c,h,p){function d(){W.moveInProgress||(W.moveInProgress=!0,W.$digest()),J()}function f(){W.position=A?h.offset(e):h.position(e),W.position.top+=e.prop("offsetHeight")}function g(t){var e;return angular.version.minor<6?(e=t.$options||{},e.getOption=function(t){return e[t]}):e=t.$options,e}var m,v,b=[9,13,27,38,40],y=200,w=t.$eval(i.typeaheadMinLength);w||0===w||(w=1),t.$watch(i.typeaheadMinLength,function(t){w=t||0===t?t:1});var x=t.$eval(i.typeaheadWaitMs)||0,k=t.$eval(i.typeaheadEditable)!==!1;t.$watch(i.typeaheadEditable,function(t){k=t!==!1});var C,S,T=r(i.typeaheadLoading).assign||angular.noop,M=i.typeaheadShouldSelect?r(i.typeaheadShouldSelect):function(t,e){var i=e.$event;return 13===i.which||9===i.which},E=r(i.typeaheadOnSelect),$=!!angular.isDefined(i.typeaheadSelectOnBlur)&&t.$eval(i.typeaheadSelectOnBlur),F=r(i.typeaheadNoResults).assign||angular.noop,D=i.typeaheadInputFormatter?r(i.typeaheadInputFormatter):void 0,A=!!i.typeaheadAppendToBody&&t.$eval(i.typeaheadAppendToBody),O=i.typeaheadAppendTo?t.$eval(i.typeaheadAppendTo):null,R=t.$eval(i.typeaheadFocusFirst)!==!1,L=!!i.typeaheadSelectOnExact&&t.$eval(i.typeaheadSelectOnExact),P=r(i.typeaheadIsOpen).assign||angular.noop,I=t.$eval(i.typeaheadShowHint)||!1,N=r(i.ngModel),H=r(i.ngModel+"($$$p)"),z=function(e,i){return angular.isFunction(N(t))&&v.getOption("getterSetter")?H(e,{$$$p:i}):N.assign(e,i)},_=p.parse(i.uibTypeahead),W=t.$new(),B=t.$on("$destroy",function(){W.$destroy()});W.$on("$destroy",B);var U="typeahead-"+W.$id+"-"+Math.floor(1e4*Math.random());e.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":U});var j,q;I&&(j=angular.element("<div></div>"),j.css("position","relative"),e.after(j),q=e.clone(),q.attr("placeholder",""),q.attr("tabindex","-1"),q.val(""),q.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),e.css({position:"relative","vertical-align":"top","background-color":"transparent"}),q.attr("id")&&q.removeAttr("id"),j.append(q),q.after(e));var Y=angular.element("<div uib-typeahead-popup></div>");Y.attr({id:U,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(i.typeaheadTemplateUrl)&&Y.attr("template-url",i.typeaheadTemplateUrl),angular.isDefined(i.typeaheadPopupTemplateUrl)&&Y.attr("popup-template-url",i.typeaheadPopupTemplateUrl);var V=function(){I&&q.val("")},X=function(){W.matches=[],W.activeIdx=-1,e.attr("aria-expanded",!1),V()},G=function(t){return U+"-option-"+t};W.$watch("activeIdx",function(t){0>t?e.removeAttr("aria-activedescendant"):e.attr("aria-activedescendant",G(t))});var Q=function(t,e){return!!(W.matches.length>e&&t)&&t.toUpperCase()===W.matches[e].label.toUpperCase()},K=function(i,n){var r={$viewValue:i};T(t,!0),F(t,!1),a.when(_.source(t,r)).then(function(a){var o=i===m.$viewValue;if(o&&C)if(a&&a.length>0){W.activeIdx=R?0:-1,F(t,!1),W.matches.length=0;for(var s=0;s<a.length;s++)r[_.itemName]=a[s],W.matches.push({id:G(s),label:_.viewMapper(W,r),model:a[s]});if(W.query=i,f(),e.attr("aria-expanded",!0),L&&1===W.matches.length&&Q(i,0)&&(angular.isNumber(W.debounceUpdate)||angular.isObject(W.debounceUpdate)?c(function(){W.select(0,n)},angular.isNumber(W.debounceUpdate)?W.debounceUpdate:W.debounceUpdate.default):W.select(0,n)),I){var l=W.matches[0].label;q.val(angular.isString(i)&&i.length>0&&l.slice(0,i.length).toUpperCase()===i.toUpperCase()?i+l.slice(i.length):"")}}else X(),F(t,!0);o&&T(t,!1)},function(){X(),T(t,!1),F(t,!0)})};A&&(angular.element(l).on("resize",d),s.find("body").on("scroll",d));var J=c(function(){W.matches.length&&f(),W.moveInProgress=!1},y);W.moveInProgress=!1,W.query=void 0;var Z,tt=function(t){Z=o(function(){K(t)},x)},et=function(){Z&&o.cancel(Z)};X(),W.assignIsOpen=function(e){P(t,e)},W.select=function(n,r){var a,s,l={};S=!0,l[_.itemName]=s=W.matches[n].model,a=_.modelMapper(t,l),z(t,a),m.$setValidity("editable",!0),m.$setValidity("parse",!0),E(t,{$item:s,$model:a,$label:_.viewMapper(t,l),$event:r}),X(),W.$eval(i.typeaheadFocusOnSelect)!==!1&&o(function(){e[0].focus()},0,!1)},e.on("keydown",function(e){if(0!==W.matches.length&&-1!==b.indexOf(e.which)){var i=M(t,{$event:e});if(-1===W.activeIdx&&i||9===e.which&&e.shiftKey)return X(),void W.$digest();e.preventDefault();var n;switch(e.which){case 27:e.stopPropagation(),X(),t.$digest();break;case 38:W.activeIdx=(W.activeIdx>0?W.activeIdx:W.matches.length)-1,W.$digest(),n=Y[0].querySelectorAll(".uib-typeahead-match")[W.activeIdx],n.parentNode.scrollTop=n.offsetTop;break;case 40:W.activeIdx=(W.activeIdx+1)%W.matches.length,W.$digest(),n=Y[0].querySelectorAll(".uib-typeahead-match")[W.activeIdx],n.parentNode.scrollTop=n.offsetTop;break;default:i&&W.$apply(function(){angular.isNumber(W.debounceUpdate)||angular.isObject(W.debounceUpdate)?c(function(){W.select(W.activeIdx,e)},angular.isNumber(W.debounceUpdate)?W.debounceUpdate:W.debounceUpdate.default):W.select(W.activeIdx,e)})}}}),e.on("focus",function(t){C=!0,0!==w||m.$viewValue||o(function(){K(m.$viewValue,t)},0)}),e.on("blur",function(t){$&&W.matches.length&&-1!==W.activeIdx&&!S&&(S=!0,W.$apply(function(){angular.isObject(W.debounceUpdate)&&angular.isNumber(W.debounceUpdate.blur)?c(function(){W.select(W.activeIdx,t)},W.debounceUpdate.blur):W.select(W.activeIdx,t)})),!k&&m.$error.editable&&(m.$setViewValue(),W.$apply(function(){m.$setValidity("editable",!0),m.$setValidity("parse",!0)}),e.val("")),C=!1,S=!1});var it=function(i){e[0]!==i.target&&3!==i.which&&0!==W.matches.length&&(X(),u.$$phase||t.$digest())};s.on("click",it),t.$on("$destroy",function(){s.off("click",it),(A||O)&&nt.remove(),A&&(angular.element(l).off("resize",d),s.find("body").off("scroll",d)),Y.remove(),I&&j.remove()});var nt=n(Y)(W);A?s.find("body").append(nt):O?angular.element(O).eq(0).append(nt):e.after(nt),this.init=function(e){m=e,v=g(m),W.debounceUpdate=r(v.getOption("debounce"))(t),m.$parsers.unshift(function(e){return C=!0,0===w||e&&e.length>=w?x>0?(et(),tt(e)):K(e):(T(t,!1),et(),X()),k?e:e?void m.$setValidity("editable",!1):(m.$setValidity("editable",!0),null)}),m.$formatters.push(function(e){var i,n,r={};return k||m.$setValidity("editable",!0),D?(r.$model=e,D(t,r)):(r[_.itemName]=e,i=_.viewMapper(t,r),r[_.itemName]=void 0,n=_.viewMapper(t,r),i!==n?i:e)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(t,e,i,n){n[1].init(n[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(e,i,n){e.templateUrl=n.templateUrl,e.isOpen=function(){var t=e.matches.length>0;return e.assignIsOpen({isOpen:t}),t},e.isActive=function(t){return e.active===t},e.selectActive=function(t){e.active=t},e.selectMatch=function(i,n){var r=e.debounce();angular.isNumber(r)||angular.isObject(r)?t(function(){e.select({activeIdx:i,evt:n})},angular.isNumber(r)?r:r.default):e.select({activeIdx:i,evt:n})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,i){return{scope:{index:"=",match:"=",query:"="},link:function(n,r,a){var o=i(a.templateUrl)(n.$parent)||"uib/template/typeahead/typeahead-match.html";t(o).then(function(t){var i=angular.element(t.trim());r.replaceWith(i),e(i)(n)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(t,e,i){function n(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function r(t){return/<.*>/g.test(t)}var a;return a=e.has("$sanitize"),function(e,o){return!a&&r(e)&&i.warn("Unsafe use of typeahead please use ngSanitize"),e=o?(""+e).replace(new RegExp(n(o),"gi"),"<strong>$&</strong>"):e,a||(e=t.trustAsHtml(e)),e}}]),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(t){return function(e,i){var n;return function(){var r=this,a=Array.prototype.slice.call(arguments);n&&t.cancel(n),n=t(function(){e.apply(r,a)},i)}}}]),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(t){function e(t){for(var e=0;e<n.tabs.length;e++)if(n.tabs[e].index===t)return e}var i,n=this;n.tabs=[],n.select=function(t,a){if(!r){var o=e(i),s=n.tabs[o];if(s){if(s.tab.onDeselect({$event:a,$selectedIndex:t}),a&&a.isDefaultPrevented())return;s.tab.active=!1}var l=n.tabs[t];l?(l.tab.onSelect({$event:a}),l.tab.active=!0,n.active=l.index,i=l.index):!l&&angular.isDefined(i)&&(n.active=null,i=null)}},n.addTab=function(t){if(n.tabs.push({tab:t,index:t.index}),n.tabs.sort(function(t,e){return t.index>e.index?1:t.index<e.index?-1:0}),t.index===n.active||!angular.isDefined(n.active)&&1===n.tabs.length){var i=e(t.index);n.select(i)}},n.removeTab=function(t){for(var e,i=0;i<n.tabs.length;i++)if(n.tabs[i].tab===t){e=i;break}if(n.tabs[e].index===n.active){var r=e===n.tabs.length-1?e-1:e+1%n.tabs.length;n.select(r)}n.tabs.splice(e,1)},t.$watch("tabset.active",function(t){angular.isDefined(t)&&t!==i&&n.select(e(t))});var r;t.$on("$destroy",function(){r=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tabset.html"},link:function(t,e,i){t.vertical=!!angular.isDefined(i.vertical)&&t.$parent.$eval(i.vertical),t.justified=!!angular.isDefined(i.justified)&&t.$parent.$eval(i.justified)}}}).directive("uibTab",["$parse",function(t){return{require:"^uibTabset",replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(e,i,n,r,a){e.disabled=!1,n.disable&&e.$parent.$watch(t(n.disable),function(t){e.disabled=!!t}),angular.isUndefined(n.index)&&(e.index=r.tabs&&r.tabs.length?Math.max.apply(null,r.tabs.map(function(t){return t.index}))+1:0),angular.isUndefined(n.classes)&&(e.classes=""),e.select=function(t){if(!e.disabled){for(var i,n=0;n<r.tabs.length;n++)if(r.tabs[n].tab===e){i=n;break}r.select(i,t)}},r.addTab(e),e.$on("$destroy",function(){r.removeTab(e)}),e.$transcludeFn=a}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}).directive("uibTabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("uib-tab-heading")||t.hasAttribute("data-uib-tab-heading")||t.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===t.tagName.toLowerCase()||"data-uib-tab-heading"===t.tagName.toLowerCase()||"x-uib-tab-heading"===t.tagName.toLowerCase()||"uib:tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(e,i,n){var r=e.$eval(n.uibTabContentTransclude).tab;r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){t(e)?r.headingElement=e:i.append(e)})})}}}),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(){function t(t){function e(e,i,n,r,a,o){for(;a>=0&&o>a;a+=t){var s=r?r[a]:a;n=i(n,e[s],s,e)}return n}return function(i,n,r,a){n=y(n,a,4);var o=!M(i)&&b.keys(i),s=(o||i).length,l=t>0?0:s-1;return arguments.length<3&&(r=i[o?o[l]:l],l+=t),e(i,n,r,o,l,s)}}function e(t){return function(e,i,n){i=w(i,n);for(var r=T(e),a=t>0?0:r-1;a>=0&&r>a;a+=t)if(i(e[a],a,e))return a;return-1}}function i(t,e,i){return function(n,r,a){var o=0,s=T(n);if("number"==typeof a)t>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(i&&a&&s)return a=i(n,r),n[a]===r?a:-1;if(r!==r)return a=e(c.call(n,o,s),b.isNaN),a>=0?a+o:-1;for(a=t>0?o:s-1;a>=0&&s>a;a+=t)if(n[a]===r)return a;return-1}}function n(t,e){var i=A.length,n=t.constructor,r=b.isFunction(n)&&n.prototype||s,a="constructor";for(b.has(t,a)&&!b.contains(e,a)&&e.push(a);i--;)a=A[i],a in t&&t[a]!==r[a]&&!b.contains(e,a)&&e.push(a)}var r=this,a=r._,o=Array.prototype,s=Object.prototype,l=Function.prototype,u=o.push,c=o.slice,h=s.toString,p=s.hasOwnProperty,d=Array.isArray,f=Object.keys,g=l.bind,m=Object.create,v=function(){},b=function(t){return t instanceof b?t:this instanceof b?void(this._wrapped=t):new b(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports._=b):r._=b,b.VERSION="1.8.3";var y=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,a){return t.call(e,i,n,r,a)}}return function(){return t.apply(e,arguments)}},w=function(t,e,i){return null==t?b.identity:b.isFunction(t)?y(t,e,i):b.isObject(t)?b.matcher(t):b.property(t)};b.iteratee=function(t,e){return w(t,e,1/0)};var x=function(t,e){return function(i){var n=arguments.length;if(2>n||null==i)return i;for(var r=1;n>r;r++)for(var a=arguments[r],o=t(a),s=o.length,l=0;s>l;l++){var u=o[l];e&&void 0!==i[u]||(i[u]=a[u])}return i}},k=function(t){if(!b.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},C=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,T=C("length"),M=function(t){var e=T(t);return"number"==typeof e&&e>=0&&S>=e};b.each=b.forEach=function(t,e,i){e=y(e,i);var n,r;if(M(t))for(n=0,r=t.length;r>n;n++)e(t[n],n,t);else{var a=b.keys(t);for(n=0,r=a.length;r>n;n++)e(t[a[n]],a[n],t)}return t},b.map=b.collect=function(t,e,i){e=w(e,i);for(var n=!M(t)&&b.keys(t),r=(n||t).length,a=Array(r),o=0;r>o;o++){var s=n?n[o]:o;a[o]=e(t[s],s,t)}return a},b.reduce=b.foldl=b.inject=t(1),b.reduceRight=b.foldr=t(-1),b.find=b.detect=function(t,e,i){var n;return n=M(t)?b.findIndex(t,e,i):b.findKey(t,e,i),void 0!==n&&n!==-1?t[n]:void 0},b.filter=b.select=function(t,e,i){var n=[];return e=w(e,i),b.each(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n},b.reject=function(t,e,i){return b.filter(t,b.negate(w(e)),i)},b.every=b.all=function(t,e,i){e=w(e,i);for(var n=!M(t)&&b.keys(t),r=(n||t).length,a=0;r>a;a++){var o=n?n[a]:a;if(!e(t[o],o,t))return!1}return!0},b.some=b.any=function(t,e,i){e=w(e,i);for(var n=!M(t)&&b.keys(t),r=(n||t).length,a=0;r>a;a++){var o=n?n[a]:a;if(e(t[o],o,t))return!0}return!1},b.contains=b.includes=b.include=function(t,e,i,n){return M(t)||(t=b.values(t)),("number"!=typeof i||n)&&(i=0),b.indexOf(t,e,i)>=0},b.invoke=function(t,e){var i=c.call(arguments,2),n=b.isFunction(e);return b.map(t,function(t){var r=n?e:t[e];return null==r?r:r.apply(t,i)})},b.pluck=function(t,e){return b.map(t,b.property(e))},b.where=function(t,e){return b.filter(t,b.matcher(e))},b.findWhere=function(t,e){return b.find(t,b.matcher(e))},b.max=function(t,e,i){var n,r,a=-1/0,o=-1/0;if(null==e&&null!=t){t=M(t)?t:b.values(t);for(var s=0,l=t.length;l>s;s++)n=t[s],n>a&&(a=n)}else e=w(e,i),b.each(t,function(t,i,n){r=e(t,i,n),(r>o||r===-1/0&&a===-1/0)&&(a=t,o=r)});return a},b.min=function(t,e,i){var n,r,a=1/0,o=1/0;if(null==e&&null!=t){t=M(t)?t:b.values(t);for(var s=0,l=t.length;l>s;s++)n=t[s],a>n&&(a=n)}else e=w(e,i),b.each(t,function(t,i,n){r=e(t,i,n),(o>r||1/0===r&&1/0===a)&&(a=t,o=r)});return a},b.shuffle=function(t){for(var e,i=M(t)?t:b.values(t),n=i.length,r=Array(n),a=0;n>a;a++)e=b.random(0,a),e!==a&&(r[a]=r[e]),r[e]=i[a];return r},b.sample=function(t,e,i){return null==e||i?(M(t)||(t=b.values(t)),t[b.random(t.length-1)]):b.shuffle(t).slice(0,Math.max(0,e))},b.sortBy=function(t,e,i){return e=w(e,i),b.pluck(b.map(t,function(t,i,n){return{value:t,index:i,criteria:e(t,i,n)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return t.index-e.index}),"value")};var E=function(t){return function(e,i,n){var r={};return i=w(i,n),b.each(e,function(n,a){var o=i(n,a,e);t(r,n,o)}),r}};b.groupBy=E(function(t,e,i){b.has(t,i)?t[i].push(e):t[i]=[e]}),b.indexBy=E(function(t,e,i){t[i]=e}),b.countBy=E(function(t,e,i){b.has(t,i)?t[i]++:t[i]=1}),b.toArray=function(t){return t?b.isArray(t)?c.call(t):M(t)?b.map(t,b.identity):b.values(t):[]},b.size=function(t){return null==t?0:M(t)?t.length:b.keys(t).length},b.partition=function(t,e,i){e=w(e,i);var n=[],r=[];return b.each(t,function(t,i,a){(e(t,i,a)?n:r).push(t)}),[n,r]},b.first=b.head=b.take=function(t,e,i){return null==t?void 0:null==e||i?t[0]:b.initial(t,t.length-e)},b.initial=function(t,e,i){return c.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},b.last=function(t,e,i){return null==t?void 0:null==e||i?t[t.length-1]:b.rest(t,Math.max(0,t.length-e))},b.rest=b.tail=b.drop=function(t,e,i){return c.call(t,null==e||i?1:e)},b.compact=function(t){return b.filter(t,b.identity)};var $=function(t,e,i,n){for(var r=[],a=0,o=n||0,s=T(t);s>o;o++){var l=t[o];if(M(l)&&(b.isArray(l)||b.isArguments(l))){e||(l=$(l,e,i));var u=0,c=l.length;for(r.length+=c;c>u;)r[a++]=l[u++]}else i||(r[a++]=l)}return r};b.flatten=function(t,e){
return $(t,e,!1)},b.without=function(t){return b.difference(t,c.call(arguments,1))},b.uniq=b.unique=function(t,e,i,n){b.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=w(i,n));for(var r=[],a=[],o=0,s=T(t);s>o;o++){var l=t[o],u=i?i(l,o,t):l;e?(o&&a===u||r.push(l),a=u):i?b.contains(a,u)||(a.push(u),r.push(l)):b.contains(r,l)||r.push(l)}return r},b.union=function(){return b.uniq($(arguments,!0,!0))},b.intersection=function(t){for(var e=[],i=arguments.length,n=0,r=T(t);r>n;n++){var a=t[n];if(!b.contains(e,a)){for(var o=1;i>o&&b.contains(arguments[o],a);o++);o===i&&e.push(a)}}return e},b.difference=function(t){var e=$(arguments,!0,!0,1);return b.filter(t,function(t){return!b.contains(e,t)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(t){for(var e=t&&b.max(t,T).length||0,i=Array(e),n=0;e>n;n++)i[n]=b.pluck(t,n);return i},b.object=function(t,e){for(var i={},n=0,r=T(t);r>n;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},b.findIndex=e(1),b.findLastIndex=e(-1),b.sortedIndex=function(t,e,i,n){i=w(i,n,1);for(var r=i(e),a=0,o=T(t);o>a;){var s=Math.floor((a+o)/2);i(t[s])<r?a=s+1:o=s}return a},b.indexOf=i(1,b.findIndex,b.sortedIndex),b.lastIndexOf=i(-1,b.findLastIndex),b.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),a=0;n>a;a++,t+=i)r[a]=t;return r};var F=function(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var a=k(t.prototype),o=t.apply(a,r);return b.isObject(o)?o:a};b.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,c.call(arguments,1));if(!b.isFunction(t))throw new TypeError("Bind must be called on a function");var i=c.call(arguments,2),n=function(){return F(t,n,e,this,i.concat(c.call(arguments)))};return n},b.partial=function(t){var e=c.call(arguments,1),i=function(){for(var n=0,r=e.length,a=Array(r),o=0;r>o;o++)a[o]=e[o]===b?arguments[n++]:e[o];for(;n<arguments.length;)a.push(arguments[n++]);return F(t,i,this,this,a)};return i},b.bindAll=function(t){var e,i,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(e=1;n>e;e++)i=arguments[e],t[i]=b.bind(t[i],t);return t},b.memoize=function(t,e){var i=function(n){var r=i.cache,a=""+(e?e.apply(this,arguments):n);return b.has(r,a)||(r[a]=t.apply(this,arguments)),r[a]};return i.cache={},i},b.delay=function(t,e){var i=c.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},b.defer=b.partial(b.delay,b,1),b.throttle=function(t,e,i){var n,r,a,o=null,s=0;i||(i={});var l=function(){s=i.leading===!1?0:b.now(),o=null,a=t.apply(n,r),o||(n=r=null)};return function(){var u=b.now();s||i.leading!==!1||(s=u);var c=e-(u-s);return n=this,r=arguments,0>=c||c>e?(o&&(clearTimeout(o),o=null),s=u,a=t.apply(n,r),o||(n=r=null)):o||i.trailing===!1||(o=setTimeout(l,c)),a}},b.debounce=function(t,e,i){var n,r,a,o,s,l=function(){var u=b.now()-o;e>u&&u>=0?n=setTimeout(l,e-u):(n=null,i||(s=t.apply(a,r),n||(a=r=null)))};return function(){a=this,r=arguments,o=b.now();var u=i&&!n;return n||(n=setTimeout(l,e)),u&&(s=t.apply(a,r),a=r=null),s}},b.wrap=function(t,e){return b.partial(e,t)},b.negate=function(t){return function(){return!t.apply(this,arguments)}},b.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},b.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},b.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),1>=t&&(e=null),i}},b.once=b.partial(b.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(t){if(!b.isObject(t))return[];if(f)return f(t);var e=[];for(var i in t)b.has(t,i)&&e.push(i);return D&&n(t,e),e},b.allKeys=function(t){if(!b.isObject(t))return[];var e=[];for(var i in t)e.push(i);return D&&n(t,e),e},b.values=function(t){for(var e=b.keys(t),i=e.length,n=Array(i),r=0;i>r;r++)n[r]=t[e[r]];return n},b.mapObject=function(t,e,i){e=w(e,i);for(var n,r=b.keys(t),a=r.length,o={},s=0;a>s;s++)n=r[s],o[n]=e(t[n],n,t);return o},b.pairs=function(t){for(var e=b.keys(t),i=e.length,n=Array(i),r=0;i>r;r++)n[r]=[e[r],t[e[r]]];return n},b.invert=function(t){for(var e={},i=b.keys(t),n=0,r=i.length;r>n;n++)e[t[i[n]]]=i[n];return e},b.functions=b.methods=function(t){var e=[];for(var i in t)b.isFunction(t[i])&&e.push(i);return e.sort()},b.extend=x(b.allKeys),b.extendOwn=b.assign=x(b.keys),b.findKey=function(t,e,i){e=w(e,i);for(var n,r=b.keys(t),a=0,o=r.length;o>a;a++)if(n=r[a],e(t[n],n,t))return n},b.pick=function(t,e,i){var n,r,a={},o=t;if(null==o)return a;b.isFunction(e)?(r=b.allKeys(o),n=y(e,i)):(r=$(arguments,!1,!1,1),n=function(t,e,i){return e in i},o=Object(o));for(var s=0,l=r.length;l>s;s++){var u=r[s],c=o[u];n(c,u,o)&&(a[u]=c)}return a},b.omit=function(t,e,i){if(b.isFunction(e))e=b.negate(e);else{var n=b.map($(arguments,!1,!1,1),String);e=function(t,e){return!b.contains(n,e)}}return b.pick(t,e,i)},b.defaults=x(b.allKeys,!0),b.create=function(t,e){var i=k(t);return e&&b.extendOwn(i,e),i},b.clone=function(t){return b.isObject(t)?b.isArray(t)?t.slice():b.extend({},t):t},b.tap=function(t,e){return e(t),t},b.isMatch=function(t,e){var i=b.keys(e),n=i.length;if(null==t)return!n;for(var r=Object(t),a=0;n>a;a++){var o=i[a];if(e[o]!==r[o]||!(o in r))return!1}return!0};var O=function(t,e,i,n){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof b&&(t=t._wrapped),e instanceof b&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var a="[object Array]"===r;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,s=e.constructor;if(o!==s&&!(b.isFunction(o)&&o instanceof o&&b.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var l=i.length;l--;)if(i[l]===t)return n[l]===e;if(i.push(t),n.push(e),a){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!O(t[l],e[l],i,n))return!1}else{var u,c=b.keys(t);if(l=c.length,b.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!b.has(e,u)||!O(t[u],e[u],i,n))return!1}return i.pop(),n.pop(),!0};b.isEqual=function(t,e){return O(t,e)},b.isEmpty=function(t){return null==t||(M(t)&&(b.isArray(t)||b.isString(t)||b.isArguments(t))?0===t.length:0===b.keys(t).length)},b.isElement=function(t){return!(!t||1!==t.nodeType)},b.isArray=d||function(t){return"[object Array]"===h.call(t)},b.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){b["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),b.isArguments(arguments)||(b.isArguments=function(t){return b.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(t){return"function"==typeof t||!1}),b.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},b.isNaN=function(t){return b.isNumber(t)&&t!==+t},b.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)},b.isNull=function(t){return null===t},b.isUndefined=function(t){return void 0===t},b.has=function(t,e){return null!=t&&p.call(t,e)},b.noConflict=function(){return r._=a,this},b.identity=function(t){return t},b.constant=function(t){return function(){return t}},b.noop=function(){},b.property=C,b.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},b.matcher=b.matches=function(t){return t=b.extendOwn({},t),function(e){return b.isMatch(e,t)}},b.times=function(t,e,i){var n=Array(Math.max(0,t));e=y(e,i,1);for(var r=0;t>r;r++)n[r]=e(r);return n},b.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},b.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=b.invert(R),P=function(t){var e=function(e){return t[e]},i="(?:"+b.keys(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,e):t}};b.escape=P(R),b.unescape=P(L),b.result=function(t,e,i){var n=null==t?void 0:t[e];return void 0===n&&(n=i),b.isFunction(n)?n.call(t):n};var I=0;b.uniqueId=function(t){var e=++I+"";return t?t+e:e},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,_=function(t){return"\\"+H[t]};b.template=function(t,e,i){!e&&i&&(e=i),e=b.defaults({},e,b.templateSettings);var n=RegExp([(e.escape||N).source,(e.interpolate||N).source,(e.evaluate||N).source].join("|")+"|$","g"),r=0,a="__p+='";t.replace(n,function(e,i,n,o,s){return a+=t.slice(r,s).replace(z,_),r=s+e.length,i?a+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(e.variable||"obj","_",a)}catch(t){throw t.source=a,t}var s=function(t){return o.call(this,t,b)},l=e.variable||"obj";return s.source="function("+l+"){\n"+a+"}",s},b.chain=function(t){var e=b(t);return e._chain=!0,e};var W=function(t,e){return t._chain?b(e).chain():e};b.mixin=function(t){b.each(b.functions(t),function(e){var i=b[e]=t[e];b.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),W(this,i.apply(b,t))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];b.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],W(this,i)}}),b.each(["concat","join","slice"],function(t){var e=o[t];b.prototype[t]=function(){return W(this,e.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}.call(this),!function(){function t(t){var e="    ";if(isNaN(parseInt(t)))e=t;else switch(t){case 1:e=" ";break;case 2:e="  ";break;case 3:e="   ";break;case 4:e="    ";break;case 5:e="     ";break;case 6:e="      ";break;case 7:e="       ";break;case 8:e="        ";break;case 9:e="         ";break;case 10:e="          ";break;case 11:e="           ";break;case 12:e="            "}var i=["\n"];for(ix=0;100>ix;ix++)i.push(i[ix]+e);return i}function e(){this.step="    ",this.shift=t(this.step)}function i(t,e){return e-(t.replace(/\(/g,"").length-t.replace(/\)/g,"").length)}function n(t,e){return t.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+e+e+"AND ").replace(/ BETWEEN /gi,"~::~"+e+"BETWEEN ").replace(/ CASE /gi,"~::~"+e+"CASE ").replace(/ ELSE /gi,"~::~"+e+"ELSE ").replace(/ END /gi,"~::~"+e+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+e+"ON ").replace(/ OR /gi,"~::~"+e+e+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+e+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+e).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+e+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}e.prototype.xml=function(e,i){var n=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),r=n.length,a=!1,o=0,s="",l=0,u=i?t(i):this.shift;for(l=0;r>l;l++)n[l].search(/<!/)>-1?(s+=u[o]+n[l],a=!0,(n[l].search(/-->/)>-1||n[l].search(/\]>/)>-1||n[l].search(/!DOCTYPE/)>-1)&&(a=!1)):n[l].search(/-->/)>-1||n[l].search(/\]>/)>-1?(s+=n[l],a=!1):/^<\w/.exec(n[l-1])&&/^<\/\w/.exec(n[l])&&/^<[\w:\-\.\,]+/.exec(n[l-1])==/^<\/[\w:\-\.\,]+/.exec(n[l])[0].replace("/","")?(s+=n[l],a||o--):n[l].search(/<\w/)>-1&&-1==n[l].search(/<\//)&&-1==n[l].search(/\/>/)?s=s+=a?n[l]:u[o++]+n[l]:n[l].search(/<\w/)>-1&&n[l].search(/<\//)>-1?s=s+=a?n[l]:u[o]+n[l]:n[l].search(/<\//)>-1?s=s+=a?n[l]:u[--o]+n[l]:n[l].search(/\/>/)>-1?s=s+=a?n[l]:u[o]+n[l]:s+=n[l].search(/<\?/)>-1?u[o]+n[l]:n[l].search(/xmlns\:/)>-1||n[l].search(/xmlns\=/)>-1?u[o]+n[l]:n[l];return"\n"==s[0]?s.slice(1):s},e.prototype.json=function(t,e){var e=e?e:this.step;return"undefined"==typeof JSON?t:"string"==typeof t?JSON.stringify(JSON.parse(t),null,e):"object"==typeof t?JSON.stringify(t,null,e):t},e.prototype.css=function(e,i){var n=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),r=n.length,a=0,o="",s=0,l=i?t(i):this.shift;for(s=0;r>s;s++)o+=/\{/.exec(n[s])?l[a++]+n[s]:/\}/.exec(n[s])?l[--a]+n[s]:/\*\\/.exec(n[s])?l[a]+n[s]:l[a]+n[s];return o.replace(/^\n{1,}/,"")},e.prototype.sql=function(e,r){var a=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),o=a.length,s=[],l=0,u=this.step,c=0,h="",p=0,d=r?t(r):this.shift;for(p=0;o>p;p++)s=s.concat(p%2?a[p]:n(a[p],u));for(o=s.length,p=0;o>p;p++)c=i(s[p],c),/\s{0,}\s{0,}SELECT\s{0,}/.exec(s[p])&&(s[p]=s[p].replace(/\,/g,",\n"+u+u)),/\s{0,}\s{0,}SET\s{0,}/.exec(s[p])&&(s[p]=s[p].replace(/\,/g,",\n"+u+u)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(s[p])?(l++,h+=d[l]+s[p]):/\'/.exec(s[p])?(1>c&&l&&l--,h+=s[p]):(h+=d[l]+s[p],1>c&&l&&l--);return h=h.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},e.prototype.xmlmin=function(t,e){var i=e?t:t.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns");return i.replace(/>\s{0,}</g,"><")},e.prototype.jsonmin=function(t){return"undefined"==typeof JSON?t:JSON.stringify(JSON.parse(t),null,0)},e.prototype.cssmin=function(t,e){var i=e?t:t.replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\//g,"");return i.replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},e.prototype.sqlmin=function(t){return t.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},window.vkbeautify=new e}();